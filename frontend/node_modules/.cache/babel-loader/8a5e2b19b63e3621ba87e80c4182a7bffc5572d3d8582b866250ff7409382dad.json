{"ast":null,"code":"var _jsxFileName = \"E:\\\\delivery\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('dark');\n  const [notifications, setNotifications] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"ðŸ¤– Welcome to your Enhanced AI Assistant powered by RealIt solutions! I can help you with:\\n\\nðŸ“„ Document analysis and Q&A\\nðŸ–¼ï¸ Image analysis and OCR\\nðŸŽ¤ Voice conversations\\nðŸ“§ Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [{\n        icon: 'ðŸ“„',\n        text: 'Upload and analyze documents'\n      }, {\n        icon: 'ðŸ–¼ï¸',\n        text: 'Image analysis with OCR'\n      }, {\n        icon: 'ðŸŽ¤',\n        text: 'Voice input and output'\n      }, {\n        icon: 'ðŸ“§',\n        text: 'Email session summaries'\n      }]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onresult = event => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n    const handleDragOver = e => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n    const handleDragLeave = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n    const handleDrop = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({\n          target: {\n            files\n          }\n        });\n      }\n    };\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n  const handleUserFormSubmit = async formData => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! ðŸ‘‹ Welcome to your AI Assistant session. I'm here to help you with various tasks including:\\n\\nâ€¢ General questions and conversations\\nâ€¢ Document analysis (upload files to get started)\\nâ€¢ Image analysis and OCR\\nâ€¢ Voice interactions\\n\\nHow can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n  const fetchFiles = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n  const handleFileUpload = async event => {\n    var _event$dataTransfer;\n    const fileList = event.target.files || ((_event$dataTransfer = event.dataTransfer) === null || _event$dataTransfer === void 0 ? void 0 : _event$dataTransfer.files);\n    if (!fileList || fileList.length === 0) return;\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n    setUploading(true);\n    setUploadProgress(0);\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `ðŸ“„ File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = e => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n    setIsTyping(true);\n\n    // Add typing indicator\n    const typingMessage = {\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString(),\n      isTyping: true\n    };\n    setMessages(prev => [...prev, typingMessage]);\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n      if (!chatId) setChatId(response.data.chatId);\n\n      // Remove typing indicator and add actual response\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const assistantMessage = {\n          role: 'assistant',\n          content: response.data.message,\n          timestamp: new Date().toISOString(),\n          sources: response.data.sources,\n          confidence: response.data.confidence\n        };\n        return [...withoutTyping, assistantMessage];\n      });\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n\n      // Remove typing indicator and add error message\n      setMessages(prev => {\n        var _error$response2, _error$response2$data;\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const errorMessage = {\n          role: 'assistant',\n          content: `âŒ Error: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message}`,\n          timestamp: new Date().toISOString(),\n          isError: true\n        };\n        return [...withoutTyping, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n      setIsTyping(false);\n    }\n  };\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n  const speakText = text => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n  const handleDeleteFile = async fileId => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n  const endSession = async () => {\n    if (!chatId) return;\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `ðŸ“‹ Session Summary:\\n\\n${response.data.summary}\\n\\nðŸ“§ A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes < 1024) return bytes + ' B';else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleString();\n  };\n  const getFileTypeIcon = fileType => {\n    const icons = {\n      pdf: 'ðŸ“„',\n      txt: 'ðŸ“',\n      md: 'ðŸ“‹',\n      png: 'ðŸ–¼ï¸',\n      jpg: 'ðŸ–¼ï¸',\n      jpeg: 'ðŸ–¼ï¸',\n      webp: 'ðŸ–¼ï¸'\n    };\n    return icons[fileType] || 'ðŸ“';\n  };\n\n  // User Form Component\n  const UserForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-form-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDC4B Welcome! Let's get started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please provide some basic information to personalize your experience:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            required: true,\n            placeholder: \"Enter your full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email Address *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            required: true,\n            placeholder: \"Enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"phone\",\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Company/Organization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"company\",\n            placeholder: \"Enter your company name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Purpose of Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"purpose\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select purpose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"research\",\n              children: \"Research & Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"support\",\n              children: \"Customer Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"consultation\",\n              children: \"Consultation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Start Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 451,\n    columnNumber: 5\n  }, this);\n\n  // Settings Panel Component\n  const SettingsPanel = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"settings-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"settings-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u2699\\uFE0F Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowSettings(false),\n        className: \"close-btn\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"settings-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD83C\\uDFA8 Theme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: theme,\n          onChange: e => setTheme(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"light\",\n            children: \"Light\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"dark\",\n            children: \"Dark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD83D\\uDD0A Text-to-Speech\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggle-switch\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"tts-toggle\",\n            checked: isSpeaking,\n            onChange: e => setIsSpeaking(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"tts-toggle\",\n            className: \"toggle-label\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"toggle-slider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD83D\\uDCCA Session Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"session-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"User:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: user === null || user === void 0 ? void 0 : user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: user === null || user === void 0 ? void 0 : user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Messages:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: messages.filter(m => m.role === 'user').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-label\",\n              children: \"Files:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"info-value\",\n              children: files.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uD83D\\uDDD1\\uFE0F Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (window.confirm('Clear all messages? This cannot be undone.')) {\n                setMessages([]);\n                addNotification('Chat history cleared', 'info');\n              }\n            },\n            className: \"btn-secondary\",\n            children: \"Clear Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (window.confirm('Reset session? This will clear all data.')) {\n                setMessages([]);\n                setFiles([]);\n                setChatId(null);\n                setSessionStarted(false);\n                setShowUserForm(true);\n                addNotification('Session reset', 'info');\n              }\n            },\n            className: \"btn-warning\",\n            children: \"Reset Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 502,\n    columnNumber: 5\n  }, this);\n\n  // End Session Modal Component\n  const EndSessionModal = () => {\n    var _messages$find;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"end-session-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCCB End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowEndSession(false),\n            className: \"close-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure you want to end this session?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"session-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Session Summary:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-icon\",\n                  children: \"\\uD83D\\uDCAC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 602,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Messages:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: messages.filter(m => m.role === 'user').length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-icon\",\n                  children: \"\\uD83D\\uDCC1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Files:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: files.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-icon\",\n                  children: \"\\u23F1\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-label\",\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"stat-value\",\n                  children: [sessionStarted ? Math.round((Date.now() - new Date(((_messages$find = messages.find(m => m.sessionStart)) === null || _messages$find === void 0 ? void 0 : _messages$find.timestamp) || Date.now()).getTime()) / 60000) : 0, \" min\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"email-note\",\n            children: [\"\\uD83D\\uDCE7 A detailed summary will be sent to: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: user === null || user === void 0 ? void 0 : user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowEndSession(false),\n            className: \"btn-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              endSession();\n              setShowEndSession(false);\n            },\n            className: \"btn-primary\",\n            children: \"End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 5\n    }, this);\n  };\n\n  // Notification Component\n  const NotificationContainer = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notifications\",\n    children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setNotifications(prev => prev.filter(n => n.id !== notification.id)),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 11\n      }, this)]\n    }, notification.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 644,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${theme}`,\n    children: [showUserForm && /*#__PURE__*/_jsxDEV(UserForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83E\\uDD16 Enhanced AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"powered-by\",\n          children: \"Powered by RealIT Solutions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC64 \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"settings-btn\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this), sessionStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: endSession,\n            className: \"end-session-btn\",\n            children: \"\\uD83D\\uDCCB End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `file-upload-zone ${isDragOver ? 'drag-over' : ''}`,\n          ref: dropZoneRef,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC1 File Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-icon\",\n              children: \"\\uD83D\\uDCE4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drag & drop files here or click to browse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"supported-formats\",\n              children: \"Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              onChange: handleFileUpload,\n              accept: \".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\",\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              disabled: uploading,\n              className: \"upload-btn\",\n              children: uploading ? `Uploading... ${uploadProgress}%` : 'ðŸ“Ž Select Files'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 15\n            }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress\",\n                style: {\n                  width: `${uploadProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCCB Your Documents (\", files.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 13\n          }, this), files.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No files uploaded yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Upload documents to enable RAG-powered conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 720,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files\",\n            children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-icon\",\n                children: getFileTypeIcon(file.fileType)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-name\",\n                  children: file.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-meta\",\n                  children: [formatFileSize(file.fileSize), \" \\u2022 \", formatDate(file.uploadDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-vectors\",\n                  children: [file.vectorCount, \" chunks indexed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteFile(file.id),\n                className: \"delete-btn\",\n                title: \"Delete file\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 21\n              }, this)]\n            }, file.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 715,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            id: \"messages\",\n            children: [messages.map((message, index) => {\n              var _user$name;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message ${message.role} ${message.isGreeting ? 'greeting' : ''} ${message.isTyping ? 'typing-message' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-avatar\",\n                  children: message.role === 'user' ? (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.charAt(0)) || 'U' : 'ðŸ¤–'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-bubble\",\n                  children: message.isTyping ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"typing-indicator\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"typing-text\",\n                      children: \"AI is thinking...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 762,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"typing-dots\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 764,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 766,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 763,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [message.image && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-image\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: message.image,\n                        alt: message.imageName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 773,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"image-name\",\n                        children: message.imageName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 774,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 772,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-content\",\n                      children: message.content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 778,\n                      columnNumber: 25\n                    }, this), message.features && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"feature-list\",\n                      children: message.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"feature-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"feature-icon\",\n                          children: feature.icon\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 786,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"feature-text\",\n                          children: feature.text\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 787,\n                          columnNumber: 33\n                        }, this)]\n                      }, i, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 785,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 783,\n                      columnNumber: 27\n                    }, this), message.sources && message.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-sources\",\n                      children: /*#__PURE__*/_jsxDEV(\"details\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                          children: [\"\\uD83D\\uDCDA Sources (\", message.sources.length, \")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 796,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"sources-list\",\n                          children: message.sources.map((source, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"source-item\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"source-text\",\n                              children: source.text\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 800,\n                              columnNumber: 37\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"source-meta\",\n                              children: [\"From: \", source.fileId]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 801,\n                              columnNumber: 37\n                            }, this)]\n                          }, i, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 799,\n                            columnNumber: 35\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 797,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 795,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 794,\n                      columnNumber: 27\n                    }, this), !message.isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"message-footer\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"message-time\",\n                        children: formatDate(message.timestamp)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 811,\n                        columnNumber: 29\n                      }, this), message.role === 'assistant' && !message.isGreeting && !message.isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"message-actions\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleFeedback(index, 'positive'),\n                          className: `action-btn ${message.feedback === 'positive' ? 'active' : ''}`,\n                          title: \"Good response\",\n                          children: \"\\uD83D\\uDC4D\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 815,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => {\n                            const reason = prompt('Please describe what was wrong with this response:');\n                            if (reason) handleFeedback(index, 'negative', reason);\n                          },\n                          className: `action-btn ${message.feedback === 'negative' ? 'active' : ''}`,\n                          title: \"Report incorrect response\",\n                          children: \"\\uD83D\\uDC4E\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 822,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => speakText(message.content),\n                          className: \"action-btn\",\n                          title: \"Read aloud\",\n                          children: \"\\uD83D\\uDD0A\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 832,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 814,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 810,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 759,\n                  columnNumber: 19\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 17\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-section\",\n          children: [selectedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"preview-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePreview,\n                alt: \"Selected\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"preview-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"preview-name\",\n                  children: selectedImage.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 859,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"preview-remove\",\n                  onClick: () => {\n                    setSelectedImage(null);\n                    setImagePreview(null);\n                  },\n                  title: \"Remove image\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: input,\n                onChange: e => setInput(e.target.value),\n                placeholder: isListening ? \"ðŸŽ¤ Listening...\" : \"Type your message here... (Shift+Enter for new line)\",\n                onKeyDown: e => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    handleSendMessage();\n                  }\n                },\n                disabled: isLoading,\n                className: `message-input ${isListening ? 'listening' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  ref: imageInputRef,\n                  onChange: handleImageUpload,\n                  accept: \"image/*\",\n                  style: {\n                    display: 'none'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    var _imageInputRef$curren;\n                    return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n                  },\n                  className: \"action-btn\",\n                  title: \"Upload image\",\n                  children: \"\\uD83D\\uDDBC\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 897,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleVoiceInput,\n                  className: `action-btn ${isListening ? 'active' : ''}`,\n                  title: \"Voice input\",\n                  children: \"\\uD83C\\uDFA4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 905,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setIsSpeaking(!isSpeaking),\n                  className: `action-btn ${isSpeaking ? 'active' : ''}`,\n                  title: \"Toggle text-to-speech\",\n                  children: \"\\uD83D\\uDD0A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 913,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSendMessage,\n                  disabled: !input.trim() && !selectedImage || isLoading,\n                  className: \"send-btn action-btn\",\n                  children: isLoading ? 'â³' : 'ðŸ“¤'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 921,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 888,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 872,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 750,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 657,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PrGRaGd1fOTvFb/+S0La0Zv7xb4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","App","_s","user","setUser","sessionData","setSessionData","showUserForm","setShowUserForm","sessionStarted","setSessionStarted","messages","setMessages","input","setInput","chatId","setChatId","isLoading","setIsLoading","chatSummary","setChatSummary","files","setFiles","uploading","setUploading","uploadProgress","setUploadProgress","isDragOver","setIsDragOver","isListening","setIsListening","isSpeaking","setIsSpeaking","selectedImage","setSelectedImage","imagePreview","setImagePreview","showSettings","setShowSettings","theme","setTheme","notifications","setNotifications","isTyping","setIsTyping","mousePosition","setMousePosition","x","y","fileInputRef","imageInputRef","messagesEndRef","recognitionRef","dropZoneRef","initializeApp","initializeSpeechRecognition","setupDragAndDrop","scrollToBottom","id","role","content","timestamp","Date","toISOString","isGreeting","features","icon","text","setTimeout","window","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","lang","onresult","event","transcript","i","resultIndex","results","length","onend","onerror","console","error","addNotification","dropZone","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","Array","from","dataTransfer","handleFileUpload","target","addEventListener","removeEventListener","_messagesEndRef$curre","scrollIntoView","behavior","message","type","notification","now","prev","filter","n","handleUserFormSubmit","formData","name","email","phone","company","welcomeMessage","sessionStart","fetchFiles","response","get","data","_event$dataTransfer","fileList","file","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","filename","systemMessage","fileUpload","_error$response","_error$response$data","value","handleImageUpload","reader","FileReader","onload","result","readAsDataURL","handleSendMessage","trim","messageContent","hasImage","userMessage","image","imageName","typingMessage","requestData","userId","base64Image","split","imageData","withoutTyping","msg","assistantMessage","sources","confidence","speakText","_error$response2","_error$response2$data","errorMessage","isError","handleVoiceInput","stop","start","utterance","SpeechSynthesisUtterance","rate","pitch","volume","speechSynthesis","speak","handleFeedback","messageIndex","feedback","reportReason","updatedMessages","handleDeleteFile","fileId","confirm","delete","endSession","summary","endMessage","isSessionEnd","formatFileSize","bytes","toFixed","formatDate","date","toLocaleString","getFileTypeIcon","fileType","icons","pdf","txt","md","png","jpg","jpeg","webp","UserForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","purpose","required","placeholder","SettingsPanel","onClick","onChange","checked","htmlFor","m","EndSessionModal","_messages$find","setShowEndSession","find","getTime","NotificationContainer","map","ref","accept","style","display","_fileInputRef$current","click","disabled","width","fileSize","uploadDate","vectorCount","title","index","_user$name","charAt","src","alt","feature","source","reason","prompt","onKeyDown","key","shiftKey","_imageInputRef$curren","_c","$RefreshReg$"],"sources":["E:/delivery/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = 'http://localhost:5000/api';\n\nfunction App() {\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('dark');\n  const [notifications, setNotifications] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"ðŸ¤– Welcome to your Enhanced AI Assistant powered by RealIt solutions! I can help you with:\\n\\nðŸ“„ Document analysis and Q&A\\nðŸ–¼ï¸ Image analysis and OCR\\nðŸŽ¤ Voice conversations\\nðŸ“§ Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [\n        { icon: 'ðŸ“„', text: 'Upload and analyze documents' },\n        { icon: 'ðŸ–¼ï¸', text: 'Image analysis with OCR' },\n        { icon: 'ðŸŽ¤', text: 'Voice input and output' },\n        { icon: 'ðŸ“§', text: 'Email session summaries' }\n      ]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onresult = (event) => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n\n      recognitionRef.current.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n\n    const handleDragOver = (e) => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n\n    const handleDragLeave = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n\n    const handleDrop = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({ target: { files } });\n      }\n    };\n\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n\n  const handleUserFormSubmit = async (formData) => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! ðŸ‘‹ Welcome to your AI Assistant session. I'm here to help you with various tasks including:\\n\\nâ€¢ General questions and conversations\\nâ€¢ Document analysis (upload files to get started)\\nâ€¢ Image analysis and OCR\\nâ€¢ Voice interactions\\n\\nHow can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n\n  const fetchFiles = async () => {\n    if (!user) return;\n\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n\n  const handleFileUpload = async (event) => {\n    const fileList = event.target.files || event.dataTransfer?.files;\n    if (!fileList || fileList.length === 0) return;\n\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n\n    setUploading(true);\n    setUploadProgress(0);\n\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `ðŸ“„ File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${error.response?.data?.error || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = (e) => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n    setIsTyping(true);\n\n    // Add typing indicator\n    const typingMessage = {\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString(),\n      isTyping: true\n    };\n    setMessages(prev => [...prev, typingMessage]);\n\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n\n      if (!chatId) setChatId(response.data.chatId);\n\n      // Remove typing indicator and add actual response\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const assistantMessage = {\n          role: 'assistant',\n          content: response.data.message,\n          timestamp: new Date().toISOString(),\n          sources: response.data.sources,\n          confidence: response.data.confidence\n        };\n        return [...withoutTyping, assistantMessage];\n      });\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n\n    } catch (error) {\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n\n      // Remove typing indicator and add error message\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const errorMessage = {\n          role: 'assistant',\n          content: `âŒ Error: ${error.response?.data?.error || error.message}`,\n          timestamp: new Date().toISOString(),\n          isError: true\n        };\n        return [...withoutTyping, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n      setIsTyping(false);\n    }\n  };\n\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n\n  const handleDeleteFile = async (fileId) => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n\n  const endSession = async () => {\n    if (!chatId) return;\n\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `ðŸ“‹ Session Summary:\\n\\n${response.data.summary}\\n\\nðŸ“§ A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\n    else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleString();\n  };\n\n  const getFileTypeIcon = (fileType) => {\n    const icons = {\n      pdf: 'ðŸ“„', txt: 'ðŸ“', md: 'ðŸ“‹',\n      png: 'ðŸ–¼ï¸', jpg: 'ðŸ–¼ï¸', jpeg: 'ðŸ–¼ï¸', webp: 'ðŸ–¼ï¸'\n    };\n    return icons[fileType] || 'ðŸ“';\n  };\n\n  // User Form Component\n  const UserForm = () => (\n    <div className=\"modal-overlay\">\n      <div className=\"user-form-modal\">\n        <h2>ðŸ‘‹ Welcome! Let's get started</h2>\n        <p>Please provide some basic information to personalize your experience:</p>\n        <form onSubmit={(e) => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        }}>\n          <div className=\"form-group\">\n            <label>Full Name *</label>\n            <input type=\"text\" name=\"name\" required placeholder=\"Enter your full name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Email Address *</label>\n            <input type=\"email\" name=\"email\" required placeholder=\"Enter your email\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Phone Number</label>\n            <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Company/Organization</label>\n            <input type=\"text\" name=\"company\" placeholder=\"Enter your company name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Purpose of Visit</label>\n            <select name=\"purpose\" required>\n              <option value=\"\">Select purpose</option>\n              <option value=\"research\">Research & Analysis</option>\n              <option value=\"support\">Customer Support</option>\n              <option value=\"consultation\">Consultation</option>\n              <option value=\"other\">Other</option>\n            </select>\n          </div>\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"btn-primary\">Start Session</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n\n  // Settings Panel Component\n  const SettingsPanel = () => (\n    <div className=\"settings-panel\">\n      <div className=\"settings-header\">\n        <h3>âš™ï¸ Settings</h3>\n        <button onClick={() => setShowSettings(false)} className=\"close-btn\">Ã—</button>\n      </div>\n      <div className=\"settings-content\">\n        <div className=\"setting-group\">\n          <label>ðŸŽ¨ Theme</label>\n          <select value={theme} onChange={(e) => setTheme(e.target.value)}>\n            <option value=\"light\">Light</option>\n            <option value=\"dark\">Dark</option>\n          </select>\n        </div>\n\n        <div className=\"setting-group\">\n          <label>ðŸ”Š Text-to-Speech</label>\n          <div className=\"toggle-switch\">\n            <input\n              type=\"checkbox\"\n              id=\"tts-toggle\"\n              checked={isSpeaking}\n              onChange={(e) => setIsSpeaking(e.target.checked)}\n            />\n            <label htmlFor=\"tts-toggle\" className=\"toggle-label\">\n              <span className=\"toggle-slider\"></span>\n            </label>\n          </div>\n        </div>\n\n        <div className=\"setting-group\">\n          <label>ðŸ“Š Session Info</label>\n          <div className=\"session-info\">\n            <div className=\"info-item\">\n              <span className=\"info-label\">User:</span>\n              <span className=\"info-value\">{user?.name}</span>\n            </div>\n            <div className=\"info-item\">\n              <span className=\"info-label\">Email:</span>\n              <span className=\"info-value\">{user?.email}</span>\n            </div>\n            <div className=\"info-item\">\n              <span className=\"info-label\">Messages:</span>\n              <span className=\"info-value\">{messages.filter(m => m.role === 'user').length}</span>\n            </div>\n            <div className=\"info-item\">\n              <span className=\"info-label\">Files:</span>\n              <span className=\"info-value\">{files.length}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"setting-group\">\n          <label>ðŸ—‘ï¸ Actions</label>\n          <div className=\"action-buttons\">\n            <button\n              onClick={() => {\n                if (window.confirm('Clear all messages? This cannot be undone.')) {\n                  setMessages([]);\n                  addNotification('Chat history cleared', 'info');\n                }\n              }}\n              className=\"btn-secondary\"\n            >\n              Clear Chat\n            </button>\n            <button\n              onClick={() => {\n                if (window.confirm('Reset session? This will clear all data.')) {\n                  setMessages([]);\n                  setFiles([]);\n                  setChatId(null);\n                  setSessionStarted(false);\n                  setShowUserForm(true);\n                  addNotification('Session reset', 'info');\n                }\n              }}\n              className=\"btn-warning\"\n            >\n              Reset Session\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // End Session Modal Component\n  const EndSessionModal = () => (\n    <div className=\"modal-overlay\">\n      <div className=\"end-session-modal\">\n        <div className=\"modal-header\">\n          <h3>ðŸ“‹ End Session</h3>\n          <button onClick={() => setShowEndSession(false)} className=\"close-btn\">Ã—</button>\n        </div>\n        <div className=\"modal-content\">\n          <p>Are you sure you want to end this session?</p>\n          <div className=\"session-summary\">\n            <h4>Session Summary:</h4>\n            <div className=\"summary-stats\">\n              <div className=\"stat-item\">\n                <span className=\"stat-icon\">ðŸ’¬</span>\n                <span className=\"stat-label\">Messages:</span>\n                <span className=\"stat-value\">{messages.filter(m => m.role === 'user').length}</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-icon\">ðŸ“</span>\n                <span className=\"stat-label\">Files:</span>\n                <span className=\"stat-value\">{files.length}</span>\n              </div>\n              <div className=\"stat-item\">\n                <span className=\"stat-icon\">â±ï¸</span>\n                <span className=\"stat-label\">Duration:</span>\n                <span className=\"stat-value\">\n                  {sessionStarted ? Math.round((Date.now() - new Date(messages.find(m => m.sessionStart)?.timestamp || Date.now()).getTime()) / 60000) : 0} min\n                </span>\n              </div>\n            </div>\n          </div>\n          <p className=\"email-note\">\n            ðŸ“§ A detailed summary will be sent to: <strong>{user?.email}</strong>\n          </p>\n        </div>\n        <div className=\"modal-actions\">\n          <button onClick={() => setShowEndSession(false)} className=\"btn-secondary\">\n            Cancel\n          </button>\n          <button\n            onClick={() => {\n              endSession();\n              setShowEndSession(false);\n            }}\n            className=\"btn-primary\"\n          >\n            End Session\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n\n  // Notification Component\n  const NotificationContainer = () => (\n    <div className=\"notifications\">\n      {notifications.map(notification => (\n        <div key={notification.id} className={`notification ${notification.type}`}>\n          <span>{notification.message}</span>\n          <button onClick={() => setNotifications(prev => prev.filter(n => n.id !== notification.id))}>\n            Ã—\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className={`app ${theme}`}>\n      {showUserForm && <UserForm />}\n      <NotificationContainer />\n\n      <header className=\"header\">\n        <div className=\"header-left\">\n          <h1>ðŸ¤– Enhanced AI Assistant</h1>\n          <span className=\"powered-by\">Powered by RealIT Solutions</span>\n        </div>\n        <div className=\"header-right\">\n          {user && (\n            <div className=\"user-info\">\n              <span>ðŸ‘¤ {user.name}</span>\n              <button onClick={() => setShowSettings(!showSettings)} className=\"settings-btn\">\n                âš™ï¸\n              </button>\n              {sessionStarted && (\n                <button onClick={endSession} className=\"end-session-btn\">\n                  ðŸ“‹ End Session\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </header>\n\n      <div className=\"main-container\">\n        <div className=\"sidebar\">\n          <div className={`file-upload-zone ${isDragOver ? 'drag-over' : ''}`} ref={dropZoneRef}>\n            <h3>ðŸ“ File Management</h3>\n            <div className=\"upload-area\">\n              <div className=\"upload-icon\">ðŸ“¤</div>\n              <p>Drag & drop files here or click to browse</p>\n              <p className=\"supported-formats\">\n                Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\n              </p>\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleFileUpload}\n                accept=\".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\"\n                style={{ display: 'none' }}\n              />\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={uploading}\n                className=\"upload-btn\"\n              >\n                {uploading ? `Uploading... ${uploadProgress}%` : 'ðŸ“Ž Select Files'}\n              </button>\n              {uploading && (\n                <div className=\"progress-bar\">\n                  <div className=\"progress\" style={{ width: `${uploadProgress}%` }}></div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"file-list\">\n            <h3>ðŸ“‹ Your Documents ({files.length})</h3>\n            {files.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>No files uploaded yet</p>\n                <small>Upload documents to enable RAG-powered conversations</small>\n              </div>\n            ) : (\n              <div className=\"files\">\n                {files.map(file => (\n                  <div key={file.id} className=\"file-item\">\n                    <div className=\"file-icon\">{getFileTypeIcon(file.fileType)}</div>\n                    <div className=\"file-details\">\n                      <div className=\"file-name\">{file.filename}</div>\n                      <div className=\"file-meta\">\n                        {formatFileSize(file.fileSize)} â€¢ {formatDate(file.uploadDate)}\n                      </div>\n                      <div className=\"file-vectors\">\n                        {file.vectorCount} chunks indexed\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleDeleteFile(file.id)}\n                      className=\"delete-btn\"\n                      title=\"Delete file\"\n                    >\n                      ðŸ—‘ï¸\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"chat-container\">\n          <div className=\"messages-container\">\n            <div className=\"messages\" id=\"messages\">\n              {messages.map((message, index) => (\n                <div key={index} className={`message ${message.role} ${message.isGreeting ? 'greeting' : ''} ${message.isTyping ? 'typing-message' : ''}`}>\n                  <div className=\"message-avatar\">\n                    {message.role === 'user' ? (user?.name?.charAt(0) || 'U') : 'ðŸ¤–'}\n                  </div>\n\n                  <div className=\"message-bubble\">\n                    {message.isTyping ? (\n                      <div className=\"typing-indicator\">\n                        <div className=\"typing-text\">AI is thinking...</div>\n                        <div className=\"typing-dots\">\n                          <span></span>\n                          <span></span>\n                          <span></span>\n                        </div>\n                      </div>\n                    ) : (\n                      <>\n                        {message.image && (\n                          <div className=\"message-image\">\n                            <img src={message.image} alt={message.imageName} />\n                            <span className=\"image-name\">{message.imageName}</span>\n                          </div>\n                        )}\n\n                        <div className=\"message-content\">\n                          {message.content}\n                        </div>\n\n                        {message.features && (\n                          <div className=\"feature-list\">\n                            {message.features.map((feature, i) => (\n                              <div key={i} className=\"feature-item\">\n                                <span className=\"feature-icon\">{feature.icon}</span>\n                                <span className=\"feature-text\">{feature.text}</span>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n\n                        {message.sources && message.sources.length > 0 && (\n                          <div className=\"message-sources\">\n                            <details>\n                              <summary>ðŸ“š Sources ({message.sources.length})</summary>\n                              <div className=\"sources-list\">\n                                {message.sources.map((source, i) => (\n                                  <div key={i} className=\"source-item\">\n                                    <div className=\"source-text\">{source.text}</div>\n                                    <div className=\"source-meta\">From: {source.fileId}</div>\n                                  </div>\n                                ))}\n                              </div>\n                            </details>\n                          </div>\n                        )}\n\n                        {!message.isTyping && (\n                          <div className=\"message-footer\">\n                            <span className=\"message-time\">{formatDate(message.timestamp)}</span>\n\n                            {message.role === 'assistant' && !message.isGreeting && !message.isTyping && (\n                              <div className=\"message-actions\">\n                                <button\n                                  onClick={() => handleFeedback(index, 'positive')}\n                                  className={`action-btn ${message.feedback === 'positive' ? 'active' : ''}`}\n                                  title=\"Good response\"\n                                >\n                                  ðŸ‘\n                                </button>\n                                <button\n                                  onClick={() => {\n                                    const reason = prompt('Please describe what was wrong with this response:');\n                                    if (reason) handleFeedback(index, 'negative', reason);\n                                  }}\n                                  className={`action-btn ${message.feedback === 'negative' ? 'active' : ''}`}\n                                  title=\"Report incorrect response\"\n                                >\n                                  ðŸ‘Ž\n                                </button>\n                                <button\n                                  onClick={() => speakText(message.content)}\n                                  className=\"action-btn\"\n                                  title=\"Read aloud\"\n                                >\n                                  ðŸ”Š\n                                </button>\n                              </div>\n                            )}\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n\n              <div ref={messagesEndRef} />\n            </div>\n          </div>\n\n          <div className=\"input-section\">\n            {selectedImage && (\n              <div className=\"image-preview\">\n                <div className=\"preview-container\">\n                  <img src={imagePreview} alt=\"Selected\" />\n                  <div className=\"preview-info\">\n                    <span className=\"preview-name\">{selectedImage.name}</span>\n                    <button\n                      className=\"preview-remove\"\n                      onClick={() => { setSelectedImage(null); setImagePreview(null); }}\n                      title=\"Remove image\"\n                    >\n                      Ã—\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div className=\"input-container\">\n              <div className=\"input-wrapper\">\n                <textarea\n                  value={input}\n                  onChange={(e) => setInput(e.target.value)}\n                  placeholder={isListening ? \"ðŸŽ¤ Listening...\" : \"Type your message here... (Shift+Enter for new line)\"}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter' && !e.shiftKey) {\n                      e.preventDefault();\n                      handleSendMessage();\n                    }\n                  }}\n                  disabled={isLoading}\n                  className={`message-input ${isListening ? 'listening' : ''}`}\n                />\n\n                <div className=\"input-actions\">\n                  <input\n                    type=\"file\"\n                    ref={imageInputRef}\n                    onChange={handleImageUpload}\n                    accept=\"image/*\"\n                    style={{ display: 'none' }}\n                  />\n\n                  <button\n                    onClick={() => imageInputRef.current?.click()}\n                    className=\"action-btn\"\n                    title=\"Upload image\"\n                  >\n                    ðŸ–¼ï¸\n                  </button>\n\n                  <button\n                    onClick={handleVoiceInput}\n                    className={`action-btn ${isListening ? 'active' : ''}`}\n                    title=\"Voice input\"\n                  >\n                    ðŸŽ¤\n                  </button>\n\n                  <button\n                    onClick={() => setIsSpeaking(!isSpeaking)}\n                    className={`action-btn ${isSpeaking ? 'active' : ''}`}\n                    title=\"Toggle text-to-speech\"\n                  >\n                    ðŸ”Š\n                  </button>\n\n                  <button\n                    onClick={handleSendMessage}\n                    disabled={(!input.trim() && !selectedImage) || isLoading}\n                    className=\"send-btn action-btn\"\n                  >\n                    {isLoading ? 'â³' : 'ðŸ“¤'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}