{"ast":null,"code":"var _jsxFileName = \"E:\\\\delivery\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('dark');\n  const [notifications, setNotifications] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"🤖 Welcome to your Enhanced AI Assistant powered by RealIt solutions! I can help you with:\\n\\n📄 Document analysis and Q&A\\n🖼️ Image analysis and OCR\\n🎤 Voice conversations\\n📧 Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [{\n        icon: '📄',\n        text: 'Upload and analyze documents'\n      }, {\n        icon: '🖼️',\n        text: 'Image analysis with OCR'\n      }, {\n        icon: '🎤',\n        text: 'Voice input and output'\n      }, {\n        icon: '📧',\n        text: 'Email session summaries'\n      }]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onresult = event => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n    const handleDragOver = e => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n    const handleDragLeave = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n    const handleDrop = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({\n          target: {\n            files\n          }\n        });\n      }\n    };\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n  const handleUserFormSubmit = async formData => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! 👋 I've recorded your session details. How can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n  const fetchFiles = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n  const handleFileUpload = async event => {\n    var _event$dataTransfer;\n    const fileList = event.target.files || ((_event$dataTransfer = event.dataTransfer) === null || _event$dataTransfer === void 0 ? void 0 : _event$dataTransfer.files);\n    if (!fileList || fileList.length === 0) return;\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n    setUploading(true);\n    setUploadProgress(0);\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `📄 File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = e => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n    setIsTyping(true);\n\n    // Add typing indicator\n    const typingMessage = {\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString(),\n      isTyping: true\n    };\n    setMessages(prev => [...prev, typingMessage]);\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n      if (!chatId) setChatId(response.data.chatId);\n\n      // Remove typing indicator and add actual response\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const assistantMessage = {\n          role: 'assistant',\n          content: response.data.message,\n          timestamp: new Date().toISOString(),\n          sources: response.data.sources,\n          confidence: response.data.confidence\n        };\n        return [...withoutTyping, assistantMessage];\n      });\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n\n      // Remove typing indicator and add error message\n      setMessages(prev => {\n        var _error$response2, _error$response2$data;\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const errorMessage = {\n          role: 'assistant',\n          content: `❌ Error: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message}`,\n          timestamp: new Date().toISOString(),\n          isError: true\n        };\n        return [...withoutTyping, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n      setIsTyping(false);\n    }\n  };\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n  const speakText = text => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n  const handleDeleteFile = async fileId => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n  const endSession = async () => {\n    if (!chatId) return;\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `📋 Session Summary:\\n\\n${response.data.summary}\\n\\n📧 A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes < 1024) return bytes + ' B';else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleString();\n  };\n  const getFileTypeIcon = fileType => {\n    const icons = {\n      pdf: '📄',\n      txt: '📝',\n      md: '📋',\n      png: '🖼️',\n      jpg: '🖼️',\n      jpeg: '🖼️',\n      webp: '🖼️'\n    };\n    return icons[fileType] || '📁';\n  };\n\n  // User Form Component\n  const UserForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-form-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDC4B Welcome! Let's get started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please provide some basic information to personalize your experience:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            required: true,\n            placeholder: \"Enter your full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email Address *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            required: true,\n            placeholder: \"Enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"phone\",\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Company/Organization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"company\",\n            placeholder: \"Enter your company name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Purpose of Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"purpose\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select purpose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"research\",\n              children: \"Research & Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"support\",\n              children: \"Customer Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"consultation\",\n              children: \"Consultation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Start Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 451,\n    columnNumber: 5\n  }, this);\n\n  // Notification Component\n  const NotificationContainer = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notifications\",\n    children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setNotifications(prev => prev.filter(n => n.id !== notification.id)),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 11\n      }, this)]\n    }, notification.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 502,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${theme}`,\n    children: [showUserForm && /*#__PURE__*/_jsxDEV(UserForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83E\\uDD16 Enhanced AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"powered-by\",\n          children: \"Powered by RealIT Solutions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC64 \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"settings-btn\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this), sessionStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: endSession,\n            className: \"end-session-btn\",\n            children: \"\\uD83D\\uDCCB End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `file-upload-zone ${isDragOver ? 'drag-over' : ''}`,\n          ref: dropZoneRef,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC1 File Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-icon\",\n              children: \"\\uD83D\\uDCE4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drag & drop files here or click to browse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"supported-formats\",\n              children: \"Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              onChange: handleFileUpload,\n              accept: \".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\",\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              disabled: uploading,\n              className: \"upload-btn\",\n              children: uploading ? `Uploading... ${uploadProgress}%` : '📎 Select Files'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress\",\n                style: {\n                  width: `${uploadProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCCB Your Documents (\", files.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this), files.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No files uploaded yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Upload documents to enable RAG-powered conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files\",\n            children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-icon\",\n                children: getFileTypeIcon(file.fileType)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-name\",\n                  children: file.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-meta\",\n                  children: [formatFileSize(file.fileSize), \" \\u2022 \", formatDate(file.uploadDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-vectors\",\n                  children: [file.vectorCount, \" chunks indexed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteFile(file.id),\n                className: \"delete-btn\",\n                title: \"Delete file\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this)]\n            }, file.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages\",\n          id: \"messages\",\n          children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.role}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [message.image && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: message.image,\n                  alt: message.imageName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"image-name\",\n                  children: message.imageName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this), message.features && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feature-list\",\n                children: message.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"feature-icon\",\n                    children: feature.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"feature-text\",\n                    children: feature.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 27\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 21\n              }, this), message.sources && message.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-sources\",\n                children: /*#__PURE__*/_jsxDEV(\"details\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                    children: [\"\\uD83D\\uDCDA Sources (\", message.sources.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 638,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sources-list\",\n                    children: message.sources.map((source, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"source-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"source-text\",\n                        children: source.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"source-file\",\n                        children: [\"From: \", source.fileId]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 643,\n                        columnNumber: 31\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 641,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: formatDate(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 19\n              }, this), message.role === 'assistant' && !message.isGreeting && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleFeedback(index, 'positive'),\n                  className: `feedback-btn ${message.feedback === 'positive' ? 'active' : ''}`,\n                  title: \"Good response\",\n                  children: \"\\uD83D\\uDC4D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const reason = prompt('Please describe what was wrong with this response:');\n                    if (reason) handleFeedback(index, 'negative', reason);\n                  },\n                  className: `feedback-btn ${message.feedback === 'negative' ? 'active' : ''}`,\n                  title: \"Report incorrect response\",\n                  children: \"\\uD83D\\uDC4E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => speakText(message.content),\n                  className: \"speak-btn\",\n                  title: \"Read aloud\",\n                  children: \"\\uD83D\\uDD0A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 674,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message assistant\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 32\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [selectedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: selectedImage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedImage(null);\n                setImagePreview(null);\n              },\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: input,\n              onChange: e => setInput(e.target.value),\n              placeholder: isListening ? \"🎤 Listening...\" : \"Type your message here... (Shift+Enter for new line)\",\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSendMessage();\n                }\n              },\n              disabled: isLoading,\n              className: isListening ? 'listening' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: imageInputRef,\n                onChange: handleImageUpload,\n                accept: \"image/*\",\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _imageInputRef$curren;\n                  return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n                },\n                className: \"action-btn\",\n                title: \"Upload image\",\n                children: \"\\uD83D\\uDDBC\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleVoiceInput,\n                className: `action-btn ${isListening ? 'active' : ''}`,\n                title: \"Voice input\",\n                children: \"\\uD83C\\uDFA4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsSpeaking(!isSpeaking),\n                className: `action-btn ${isSpeaking ? 'active' : ''}`,\n                title: \"Toggle text-to-speech\",\n                children: \"\\uD83D\\uDD0A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSendMessage,\n                disabled: !input.trim() && !selectedImage || isLoading,\n                className: \"send-btn\",\n                children: isLoading ? '⏳' : '📤'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 515,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"PrGRaGd1fOTvFb/+S0La0Zv7xb4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","jsxDEV","_jsxDEV","API_URL","App","_s","user","setUser","sessionData","setSessionData","showUserForm","setShowUserForm","sessionStarted","setSessionStarted","messages","setMessages","input","setInput","chatId","setChatId","isLoading","setIsLoading","chatSummary","setChatSummary","files","setFiles","uploading","setUploading","uploadProgress","setUploadProgress","isDragOver","setIsDragOver","isListening","setIsListening","isSpeaking","setIsSpeaking","selectedImage","setSelectedImage","imagePreview","setImagePreview","showSettings","setShowSettings","theme","setTheme","notifications","setNotifications","isTyping","setIsTyping","mousePosition","setMousePosition","x","y","fileInputRef","imageInputRef","messagesEndRef","recognitionRef","dropZoneRef","initializeApp","initializeSpeechRecognition","setupDragAndDrop","scrollToBottom","id","role","content","timestamp","Date","toISOString","isGreeting","features","icon","text","setTimeout","window","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","lang","onresult","event","transcript","i","resultIndex","results","length","onend","onerror","console","error","addNotification","dropZone","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","Array","from","dataTransfer","handleFileUpload","target","addEventListener","removeEventListener","_messagesEndRef$curre","scrollIntoView","behavior","message","type","notification","now","prev","filter","n","handleUserFormSubmit","formData","name","email","phone","company","welcomeMessage","sessionStart","fetchFiles","response","get","data","_event$dataTransfer","fileList","file","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","filename","systemMessage","fileUpload","_error$response","_error$response$data","value","handleImageUpload","reader","FileReader","onload","result","readAsDataURL","handleSendMessage","trim","messageContent","hasImage","userMessage","image","imageName","typingMessage","requestData","userId","base64Image","split","imageData","withoutTyping","msg","assistantMessage","sources","confidence","speakText","_error$response2","_error$response2$data","errorMessage","isError","handleVoiceInput","stop","start","utterance","SpeechSynthesisUtterance","rate","pitch","volume","speechSynthesis","speak","handleFeedback","messageIndex","feedback","reportReason","updatedMessages","handleDeleteFile","fileId","confirm","delete","endSession","summary","endMessage","isSessionEnd","formatFileSize","bytes","toFixed","formatDate","date","toLocaleString","getFileTypeIcon","fileType","icons","pdf","txt","md","png","jpg","jpeg","webp","UserForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","purpose","required","placeholder","NotificationContainer","map","onClick","ref","onChange","accept","style","display","_fileInputRef$current","click","disabled","width","fileSize","uploadDate","vectorCount","title","index","src","alt","feature","source","reason","prompt","onKeyDown","key","shiftKey","_imageInputRef$curren","_c","$RefreshReg$"],"sources":["E:/delivery/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = 'http://localhost:5000/api';\n\nfunction App() {\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('dark');\n  const [notifications, setNotifications] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"🤖 Welcome to your Enhanced AI Assistant powered by RealIt solutions! I can help you with:\\n\\n📄 Document analysis and Q&A\\n🖼️ Image analysis and OCR\\n🎤 Voice conversations\\n📧 Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [\n        { icon: '📄', text: 'Upload and analyze documents' },\n        { icon: '🖼️', text: 'Image analysis with OCR' },\n        { icon: '🎤', text: 'Voice input and output' },\n        { icon: '📧', text: 'Email session summaries' }\n      ]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onresult = (event) => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n\n      recognitionRef.current.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n\n    const handleDragOver = (e) => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n\n    const handleDragLeave = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n\n    const handleDrop = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({ target: { files } });\n      }\n    };\n\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n\n  const handleUserFormSubmit = async (formData) => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! 👋 I've recorded your session details. How can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n\n  const fetchFiles = async () => {\n    if (!user) return;\n\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n\n  const handleFileUpload = async (event) => {\n    const fileList = event.target.files || event.dataTransfer?.files;\n    if (!fileList || fileList.length === 0) return;\n\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n\n    setUploading(true);\n    setUploadProgress(0);\n\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `📄 File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${error.response?.data?.error || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = (e) => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n    setIsTyping(true);\n\n    // Add typing indicator\n    const typingMessage = {\n      role: 'assistant',\n      content: '',\n      timestamp: new Date().toISOString(),\n      isTyping: true\n    };\n    setMessages(prev => [...prev, typingMessage]);\n\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n\n      if (!chatId) setChatId(response.data.chatId);\n\n      // Remove typing indicator and add actual response\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const assistantMessage = {\n          role: 'assistant',\n          content: response.data.message,\n          timestamp: new Date().toISOString(),\n          sources: response.data.sources,\n          confidence: response.data.confidence\n        };\n        return [...withoutTyping, assistantMessage];\n      });\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n\n    } catch (error) {\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n\n      // Remove typing indicator and add error message\n      setMessages(prev => {\n        const withoutTyping = prev.filter(msg => !msg.isTyping);\n        const errorMessage = {\n          role: 'assistant',\n          content: `❌ Error: ${error.response?.data?.error || error.message}`,\n          timestamp: new Date().toISOString(),\n          isError: true\n        };\n        return [...withoutTyping, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n      setIsTyping(false);\n    }\n  };\n\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n\n  const handleDeleteFile = async (fileId) => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n\n  const endSession = async () => {\n    if (!chatId) return;\n\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `📋 Session Summary:\\n\\n${response.data.summary}\\n\\n📧 A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\n    else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleString();\n  };\n\n  const getFileTypeIcon = (fileType) => {\n    const icons = {\n      pdf: '📄', txt: '📝', md: '📋',\n      png: '🖼️', jpg: '🖼️', jpeg: '🖼️', webp: '🖼️'\n    };\n    return icons[fileType] || '📁';\n  };\n\n  // User Form Component\n  const UserForm = () => (\n    <div className=\"modal-overlay\">\n      <div className=\"user-form-modal\">\n        <h2>👋 Welcome! Let's get started</h2>\n        <p>Please provide some basic information to personalize your experience:</p>\n        <form onSubmit={(e) => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        }}>\n          <div className=\"form-group\">\n            <label>Full Name *</label>\n            <input type=\"text\" name=\"name\" required placeholder=\"Enter your full name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Email Address *</label>\n            <input type=\"email\" name=\"email\" required placeholder=\"Enter your email\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Phone Number</label>\n            <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Company/Organization</label>\n            <input type=\"text\" name=\"company\" placeholder=\"Enter your company name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Purpose of Visit</label>\n            <select name=\"purpose\" required>\n              <option value=\"\">Select purpose</option>\n              <option value=\"research\">Research & Analysis</option>\n              <option value=\"support\">Customer Support</option>\n              <option value=\"consultation\">Consultation</option>\n              <option value=\"other\">Other</option>\n            </select>\n          </div>\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"btn-primary\">Start Session</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n\n  // Notification Component\n  const NotificationContainer = () => (\n    <div className=\"notifications\">\n      {notifications.map(notification => (\n        <div key={notification.id} className={`notification ${notification.type}`}>\n          <span>{notification.message}</span>\n          <button onClick={() => setNotifications(prev => prev.filter(n => n.id !== notification.id))}>\n            ×\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className={`app ${theme}`}>\n      {showUserForm && <UserForm />}\n      <NotificationContainer />\n\n      <header className=\"header\">\n        <div className=\"header-left\">\n          <h1>🤖 Enhanced AI Assistant</h1>\n          <span className=\"powered-by\">Powered by RealIT Solutions</span>\n        </div>\n        <div className=\"header-right\">\n          {user && (\n            <div className=\"user-info\">\n              <span>👤 {user.name}</span>\n              <button onClick={() => setShowSettings(!showSettings)} className=\"settings-btn\">\n                ⚙️\n              </button>\n              {sessionStarted && (\n                <button onClick={endSession} className=\"end-session-btn\">\n                  📋 End Session\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </header>\n\n      <div className=\"main-container\">\n        <div className=\"sidebar\">\n          <div className={`file-upload-zone ${isDragOver ? 'drag-over' : ''}`} ref={dropZoneRef}>\n            <h3>📁 File Management</h3>\n            <div className=\"upload-area\">\n              <div className=\"upload-icon\">📤</div>\n              <p>Drag & drop files here or click to browse</p>\n              <p className=\"supported-formats\">\n                Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\n              </p>\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleFileUpload}\n                accept=\".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\"\n                style={{ display: 'none' }}\n              />\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={uploading}\n                className=\"upload-btn\"\n              >\n                {uploading ? `Uploading... ${uploadProgress}%` : '📎 Select Files'}\n              </button>\n              {uploading && (\n                <div className=\"progress-bar\">\n                  <div className=\"progress\" style={{ width: `${uploadProgress}%` }}></div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"file-list\">\n            <h3>📋 Your Documents ({files.length})</h3>\n            {files.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>No files uploaded yet</p>\n                <small>Upload documents to enable RAG-powered conversations</small>\n              </div>\n            ) : (\n              <div className=\"files\">\n                {files.map(file => (\n                  <div key={file.id} className=\"file-item\">\n                    <div className=\"file-icon\">{getFileTypeIcon(file.fileType)}</div>\n                    <div className=\"file-details\">\n                      <div className=\"file-name\">{file.filename}</div>\n                      <div className=\"file-meta\">\n                        {formatFileSize(file.fileSize)} • {formatDate(file.uploadDate)}\n                      </div>\n                      <div className=\"file-vectors\">\n                        {file.vectorCount} chunks indexed\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleDeleteFile(file.id)}\n                      className=\"delete-btn\"\n                      title=\"Delete file\"\n                    >\n                      🗑️\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"chat-container\">\n          <div className=\"messages\" id=\"messages\">\n            {messages.map((message, index) => (\n              <div key={index} className={`message ${message.role}`}>\n                <div className=\"message-content\">\n                  {message.image && (\n                    <div className=\"message-image\">\n                      <img src={message.image} alt={message.imageName} />\n                      <span className=\"image-name\">{message.imageName}</span>\n                    </div>\n                  )}\n\n                  <div className=\"message-text\">\n                    {message.content}\n                  </div>\n\n                  {message.features && (\n                    <div className=\"feature-list\">\n                      {message.features.map((feature, i) => (\n                        <div key={i} className=\"feature-item\">\n                          <span className=\"feature-icon\">{feature.icon}</span>\n                          <span className=\"feature-text\">{feature.text}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {message.sources && message.sources.length > 0 && (\n                    <div className=\"message-sources\">\n                      <details>\n                        <summary>📚 Sources ({message.sources.length})</summary>\n                        <div className=\"sources-list\">\n                          {message.sources.map((source, i) => (\n                            <div key={i} className=\"source-item\">\n                              <div className=\"source-text\">{source.text}</div>\n                              <div className=\"source-file\">From: {source.fileId}</div>\n                            </div>\n                          ))}\n                        </div>\n                      </details>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"message-footer\">\n                  <span className=\"message-time\">{formatDate(message.timestamp)}</span>\n\n                  {message.role === 'assistant' && !message.isGreeting && (\n                    <div className=\"message-actions\">\n                      <button\n                        onClick={() => handleFeedback(index, 'positive')}\n                        className={`feedback-btn ${message.feedback === 'positive' ? 'active' : ''}`}\n                        title=\"Good response\"\n                      >\n                        👍\n                      </button>\n                      <button\n                        onClick={() => {\n                          const reason = prompt('Please describe what was wrong with this response:');\n                          if (reason) handleFeedback(index, 'negative', reason);\n                        }}\n                        className={`feedback-btn ${message.feedback === 'negative' ? 'active' : ''}`}\n                        title=\"Report incorrect response\"\n                      >\n                        👎\n                      </button>\n                      <button\n                        onClick={() => speakText(message.content)}\n                        className=\"speak-btn\"\n                        title=\"Read aloud\"\n                      >\n                        🔊\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n\n            {isLoading && (\n              <div className=\"message assistant\">\n                <div className=\"typing-indicator\">\n                  <span></span><span></span><span></span>\n                </div>\n              </div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n\n          <div className=\"input-container\">\n            {selectedImage && (\n              <div className=\"image-preview\">\n                <img src={imagePreview} alt=\"Selected\" />\n                <span>{selectedImage.name}</span>\n                <button onClick={() => { setSelectedImage(null); setImagePreview(null); }}>×</button>\n              </div>\n            )}\n\n            <div className=\"input-area\">\n              <textarea\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                placeholder={isListening ? \"🎤 Listening...\" : \"Type your message here... (Shift+Enter for new line)\"}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    handleSendMessage();\n                  }\n                }}\n                disabled={isLoading}\n                className={isListening ? 'listening' : ''}\n              />\n\n              <div className=\"input-actions\">\n                <input\n                  type=\"file\"\n                  ref={imageInputRef}\n                  onChange={handleImageUpload}\n                  accept=\"image/*\"\n                  style={{ display: 'none' }}\n                />\n\n                <button\n                  onClick={() => imageInputRef.current?.click()}\n                  className=\"action-btn\"\n                  title=\"Upload image\"\n                >\n                  🖼️\n                </button>\n\n                <button\n                  onClick={handleVoiceInput}\n                  className={`action-btn ${isListening ? 'active' : ''}`}\n                  title=\"Voice input\"\n                >\n                  🎤\n                </button>\n\n                <button\n                  onClick={() => setIsSpeaking(!isSpeaking)}\n                  className={`action-btn ${isSpeaking ? 'active' : ''}`}\n                  title=\"Toggle text-to-speech\"\n                >\n                  🔊\n                </button>\n\n                <button\n                  onClick={handleSendMessage}\n                  disabled={(!input.trim() && !selectedImage) || isLoading}\n                  className=\"send-btn\"\n                >\n                  {isLoading ? '⏳' : '📤'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACgB,cAAc,EAAEC,iBAAiB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;;EAE3D;EACA,MAAM,CAACkB,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsB,MAAM,EAAEC,SAAS,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACwB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;;EAElD;EACA,MAAM,CAAC4B,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC8B,SAAS,EAAEC,YAAY,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgC,cAAc,EAAEC,iBAAiB,CAAC,GAAGjC,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACkC,UAAU,EAAEC,aAAa,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;;EAEnD;EACA,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACwC,aAAa,EAAEC,gBAAgB,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAAC0C,YAAY,EAAEC,eAAe,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;;EAEtD;EACA,MAAM,CAAC4C,YAAY,EAAEC,eAAe,CAAC,GAAG7C,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC8C,KAAK,EAAEC,QAAQ,CAAC,GAAG/C,QAAQ,CAAC,MAAM,CAAC;EAC1C,MAAM,CAACgD,aAAa,EAAEC,gBAAgB,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkD,QAAQ,EAAEC,WAAW,CAAC,GAAGnD,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoD,aAAa,EAAEC,gBAAgB,CAAC,GAAGrD,QAAQ,CAAC;IAAEsD,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;;EAElE;EACA,MAAMC,YAAY,GAAGtD,MAAM,CAAC,IAAI,CAAC;EACjC,MAAMuD,aAAa,GAAGvD,MAAM,CAAC,IAAI,CAAC;EAClC,MAAMwD,cAAc,GAAGxD,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMyD,cAAc,GAAGzD,MAAM,CAAC,IAAI,CAAC;EACnC,MAAM0D,WAAW,GAAG1D,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACAD,SAAS,CAAC,MAAM;IACd4D,aAAa,CAAC,CAAC;IACfC,2BAA2B,CAAC,CAAC;IAC7BC,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN9D,SAAS,CAAC,MAAM;IACd+D,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAAC9C,QAAQ,CAAC,CAAC;EAEd,MAAM2C,aAAa,GAAGA,CAAA,KAAM;IAC1B;IACA1C,WAAW,CAAC,CAAC;MACX8C,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,yRAAyR;MAClSC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACnCC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,CACR;QAAEC,IAAI,EAAE,IAAI;QAAEC,IAAI,EAAE;MAA+B,CAAC,EACpD;QAAED,IAAI,EAAE,KAAK;QAAEC,IAAI,EAAE;MAA0B,CAAC,EAChD;QAAED,IAAI,EAAE,IAAI;QAAEC,IAAI,EAAE;MAAyB,CAAC,EAC9C;QAAED,IAAI,EAAE,IAAI;QAAEC,IAAI,EAAE;MAA0B,CAAC;IAEnD,CAAC,CAAC,CAAC;;IAEH;IACAC,UAAU,CAAC,MAAM5D,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;EAC/C,CAAC;EAED,MAAM+C,2BAA2B,GAAGA,CAAA,KAAM;IACxC,IAAI,yBAAyB,IAAIc,MAAM,IAAI,mBAAmB,IAAIA,MAAM,EAAE;MACxE,MAAMC,iBAAiB,GAAGD,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB;MACpFnB,cAAc,CAACoB,OAAO,GAAG,IAAIF,iBAAiB,CAAC,CAAC;MAChDlB,cAAc,CAACoB,OAAO,CAACC,UAAU,GAAG,KAAK;MACzCrB,cAAc,CAACoB,OAAO,CAACE,cAAc,GAAG,IAAI;MAC5CtB,cAAc,CAACoB,OAAO,CAACG,IAAI,GAAG,OAAO;MAErCvB,cAAc,CAACoB,OAAO,CAACI,QAAQ,GAAIC,KAAK,IAAK;QAC3C,IAAIC,UAAU,GAAG,EAAE;QACnB,KAAK,IAAIC,CAAC,GAAGF,KAAK,CAACG,WAAW,EAAED,CAAC,GAAGF,KAAK,CAACI,OAAO,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;UAC7DD,UAAU,IAAID,KAAK,CAACI,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;QAC9C;QACAhE,QAAQ,CAACgE,UAAU,CAAC;MACtB,CAAC;MAED1B,cAAc,CAACoB,OAAO,CAACW,KAAK,GAAG,MAAM;QACnCrD,cAAc,CAAC,KAAK,CAAC;MACvB,CAAC;MAEDsB,cAAc,CAACoB,OAAO,CAACY,OAAO,GAAIP,KAAK,IAAK;QAC1CQ,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAET,KAAK,CAACS,KAAK,CAAC;QACvDxD,cAAc,CAAC,KAAK,CAAC;QACrByD,eAAe,CAAC,4CAA4C,EAAE,OAAO,CAAC;MACxE,CAAC;IACH;EACF,CAAC;EAED,MAAM/B,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,MAAMgC,QAAQ,GAAGnC,WAAW,CAACmB,OAAO;IACpC,IAAI,CAACgB,QAAQ,EAAE;IAEf,MAAMC,cAAc,GAAIC,CAAC,IAAK;MAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB/D,aAAa,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,MAAMgE,eAAe,GAAIF,CAAC,IAAK;MAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB/D,aAAa,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,MAAMiE,UAAU,GAAIH,CAAC,IAAK;MACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB/D,aAAa,CAAC,KAAK,CAAC;MAEpB,MAAMP,KAAK,GAAGyE,KAAK,CAACC,IAAI,CAACL,CAAC,CAACM,YAAY,CAAC3E,KAAK,CAAC;MAC9C,IAAIA,KAAK,CAAC6D,MAAM,GAAG,CAAC,EAAE;QACpBe,gBAAgB,CAAC;UAAEC,MAAM,EAAE;YAAE7E;UAAM;QAAE,CAAC,CAAC;MACzC;IACF,CAAC;IAEDmE,QAAQ,CAACW,gBAAgB,CAAC,UAAU,EAAEV,cAAc,CAAC;IACrDD,QAAQ,CAACW,gBAAgB,CAAC,WAAW,EAAEP,eAAe,CAAC;IACvDJ,QAAQ,CAACW,gBAAgB,CAAC,MAAM,EAAEN,UAAU,CAAC;IAE7C,OAAO,MAAM;MACXL,QAAQ,CAACY,mBAAmB,CAAC,UAAU,EAAEX,cAAc,CAAC;MACxDD,QAAQ,CAACY,mBAAmB,CAAC,WAAW,EAAER,eAAe,CAAC;MAC1DJ,QAAQ,CAACY,mBAAmB,CAAC,MAAM,EAAEP,UAAU,CAAC;IAClD,CAAC;EACH,CAAC;EAED,MAAMpC,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAA4C,qBAAA;IAC3B,CAAAA,qBAAA,GAAAlD,cAAc,CAACqB,OAAO,cAAA6B,qBAAA,uBAAtBA,qBAAA,CAAwBC,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC;EAED,MAAMhB,eAAe,GAAGA,CAACiB,OAAO,EAAEC,IAAI,GAAG,MAAM,KAAK;IAClD,MAAMC,YAAY,GAAG;MACnBhD,EAAE,EAAEI,IAAI,CAAC6C,GAAG,CAAC,CAAC;MACdH,OAAO;MACPC,IAAI;MACJ5C,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC;IACDpB,gBAAgB,CAACkE,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEF,YAAY,CAAC,CAAC;;IAEjD;IACAtC,UAAU,CAAC,MAAM;MACf1B,gBAAgB,CAACkE,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACpD,EAAE,KAAKgD,YAAY,CAAChD,EAAE,CAAC,CAAC;IACtE,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,MAAMqD,oBAAoB,GAAG,MAAOC,QAAQ,IAAK;IAC/C1G,cAAc,CAAC0G,QAAQ,CAAC;IACxB5G,OAAO,CAAC;MACNsD,EAAE,EAAE,cAAc;MAClBuD,IAAI,EAAED,QAAQ,CAACC,IAAI;MACnBC,KAAK,EAAEF,QAAQ,CAACE,KAAK;MACrBC,KAAK,EAAEH,QAAQ,CAACG,KAAK;MACrBC,OAAO,EAAEJ,QAAQ,CAACI;IACpB,CAAC,CAAC;IACF5G,eAAe,CAAC,KAAK,CAAC;IACtBE,iBAAiB,CAAC,IAAI,CAAC;;IAEvB;IACA,MAAM2G,cAAc,GAAG;MACrB1D,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,SAASoD,QAAQ,CAACC,IAAI,sEAAsE;MACrGpD,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACnCuD,YAAY,EAAE;IAChB,CAAC;IAED1G,WAAW,CAACgG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAES,cAAc,CAAC,CAAC;IAC9CE,UAAU,CAAC,CAAC;IACZhC,eAAe,CAAC,+BAA+B,EAAE,SAAS,CAAC;EAC7D,CAAC;EAED,MAAMgC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACpH,IAAI,EAAE;IAEX,IAAI;MACF,MAAMqH,QAAQ,GAAG,MAAM3H,KAAK,CAAC4H,GAAG,CAAC,GAAGzH,OAAO,iBAAiBG,IAAI,CAACuD,EAAE,EAAE,CAAC;MACtEpC,QAAQ,CAACkG,QAAQ,CAACE,IAAI,CAACrG,KAAK,IAAI,EAAE,CAAC;IACrC,CAAC,CAAC,OAAOiE,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CC,eAAe,CAAC,sBAAsB,EAAE,OAAO,CAAC;IAClD;EACF,CAAC;EAED,MAAMU,gBAAgB,GAAG,MAAOpB,KAAK,IAAK;IAAA,IAAA8C,mBAAA;IACxC,MAAMC,QAAQ,GAAG/C,KAAK,CAACqB,MAAM,CAAC7E,KAAK,MAAAsG,mBAAA,GAAI9C,KAAK,CAACmB,YAAY,cAAA2B,mBAAA,uBAAlBA,mBAAA,CAAoBtG,KAAK;IAChE,IAAI,CAACuG,QAAQ,IAAIA,QAAQ,CAAC1C,MAAM,KAAK,CAAC,EAAE;IAExC,MAAM2C,IAAI,GAAGD,QAAQ,CAAC,CAAC,CAAC;IACxB,MAAMZ,QAAQ,GAAG,IAAIc,QAAQ,CAAC,CAAC;IAC/Bd,QAAQ,CAACe,MAAM,CAAC,MAAM,EAAEF,IAAI,CAAC;IAC7Bb,QAAQ,CAACe,MAAM,CAAC,QAAQ,EAAE5H,IAAI,CAACuD,EAAE,CAAC;IAElClC,YAAY,CAAC,IAAI,CAAC;IAClBE,iBAAiB,CAAC,CAAC,CAAC;IAEpB,IAAI;MACF,MAAM8F,QAAQ,GAAG,MAAM3H,KAAK,CAACmI,IAAI,CAAC,GAAGhI,OAAO,eAAe,EAAEgH,QAAQ,EAAE;QACrEiB,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB,CAAC;QAClDC,gBAAgB,EAAGC,aAAa,IAAK;UACnC,MAAMC,gBAAgB,GAAGC,IAAI,CAACC,KAAK,CAAEH,aAAa,CAACI,MAAM,GAAG,GAAG,GAAIJ,aAAa,CAACK,KAAK,CAAC;UACvF9G,iBAAiB,CAAC0G,gBAAgB,CAAC;QACrC;MACF,CAAC,CAAC;MAEF,MAAMb,UAAU,CAAC,CAAC;MAClBhC,eAAe,CAAC,SAASiC,QAAQ,CAACE,IAAI,CAACe,QAAQ,0BAA0B,EAAE,SAAS,CAAC;;MAErF;MACA,MAAMC,aAAa,GAAG;QACpB/E,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,YAAY4D,QAAQ,CAACE,IAAI,CAACe,QAAQ,gFAAgF;QAC3H5E,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QACnC4E,UAAU,EAAE;MACd,CAAC;MACD/H,WAAW,CAACgG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE8B,aAAa,CAAC,CAAC;IAE/C,CAAC,CAAC,OAAOpD,KAAK,EAAE;MAAA,IAAAsD,eAAA,EAAAC,oBAAA;MACdxD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CC,eAAe,CAAC,yBAAyB,EAAAqD,eAAA,GAAAtD,KAAK,CAACkC,QAAQ,cAAAoB,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBlB,IAAI,cAAAmB,oBAAA,uBAApBA,oBAAA,CAAsBvD,KAAK,KAAIA,KAAK,CAACkB,OAAO,EAAE,EAAE,OAAO,CAAC;IACnG,CAAC,SAAS;MACRhF,YAAY,CAAC,KAAK,CAAC;MACnBE,iBAAiB,CAAC,CAAC,CAAC;MACpB,IAAIuB,YAAY,CAACuB,OAAO,EAAEvB,YAAY,CAACuB,OAAO,CAACsE,KAAK,GAAG,EAAE;IAC3D;EACF,CAAC;EAED,MAAMC,iBAAiB,GAAIlE,KAAK,IAAK;IACnC,MAAMgD,IAAI,GAAGhD,KAAK,CAACqB,MAAM,CAAC7E,KAAK,CAAC,CAAC,CAAC;IAClC,IAAI,CAACwG,IAAI,EAAE;IAEX3F,gBAAgB,CAAC2F,IAAI,CAAC;IACtB,MAAMmB,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAIxD,CAAC,IAAKtD,eAAe,CAACsD,CAAC,CAACQ,MAAM,CAACiD,MAAM,CAAC;IACvDH,MAAM,CAACI,aAAa,CAACvB,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMwB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI,CAACxI,KAAK,CAACyI,IAAI,CAAC,CAAC,IAAI,CAACrH,aAAa,EAAE;IAErC,MAAMsH,cAAc,GAAG1I,KAAK,CAACyI,IAAI,CAAC,CAAC;IACnC,MAAME,QAAQ,GAAGvH,aAAa,KAAK,IAAI;;IAEvC;IACA,MAAMwH,WAAW,GAAG;MAClB9F,IAAI,EAAE,MAAM;MACZC,OAAO,EAAE2F,cAAc;MACvB1F,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACnC2F,KAAK,EAAEF,QAAQ,GAAGrH,YAAY,GAAG,IAAI;MACrCwH,SAAS,EAAEH,QAAQ,GAAGvH,aAAa,CAACgF,IAAI,GAAG;IAC7C,CAAC;IAEDrG,WAAW,CAACgG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE6C,WAAW,CAAC,CAAC;IAC3C3I,QAAQ,CAAC,EAAE,CAAC;IACZoB,gBAAgB,CAAC,IAAI,CAAC;IACtBE,eAAe,CAAC,IAAI,CAAC;IACrBlB,YAAY,CAAC,IAAI,CAAC;IAClB0B,WAAW,CAAC,IAAI,CAAC;;IAEjB;IACA,MAAMgH,aAAa,GAAG;MACpBjG,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACnCpB,QAAQ,EAAE;IACZ,CAAC;IACD/B,WAAW,CAACgG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEgD,aAAa,CAAC,CAAC;IAE7C,IAAI;MACF;MACA,MAAMC,WAAW,GAAG;QAClBC,MAAM,EAAE3J,IAAI,CAACuD,EAAE;QACf8C,OAAO,EAAE+C,cAAc;QACvBxI,MAAM;QACNyI,QAAQ;QACRnJ;MACF,CAAC;;MAED;MACA,IAAImJ,QAAQ,EAAE;QACZ,MAAMO,WAAW,GAAG5H,YAAY,CAAC6H,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9CH,WAAW,CAACI,SAAS,GAAGF,WAAW;QACnCF,WAAW,CAACF,SAAS,GAAG1H,aAAa,CAACgF,IAAI;MAC5C;MAEA,MAAMO,QAAQ,GAAG,MAAM3H,KAAK,CAACmI,IAAI,CAAC,GAAGhI,OAAO,eAAe,EAAE6J,WAAW,CAAC;MAEzE,IAAI,CAAC9I,MAAM,EAAEC,SAAS,CAACwG,QAAQ,CAACE,IAAI,CAAC3G,MAAM,CAAC;;MAE5C;MACAH,WAAW,CAACgG,IAAI,IAAI;QAClB,MAAMsD,aAAa,GAAGtD,IAAI,CAACC,MAAM,CAACsD,GAAG,IAAI,CAACA,GAAG,CAACxH,QAAQ,CAAC;QACvD,MAAMyH,gBAAgB,GAAG;UACvBzG,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE4D,QAAQ,CAACE,IAAI,CAAClB,OAAO;UAC9B3C,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACnCsG,OAAO,EAAE7C,QAAQ,CAACE,IAAI,CAAC2C,OAAO;UAC9BC,UAAU,EAAE9C,QAAQ,CAACE,IAAI,CAAC4C;QAC5B,CAAC;QACD,OAAO,CAAC,GAAGJ,aAAa,EAAEE,gBAAgB,CAAC;MAC7C,CAAC,CAAC;;MAEF;MACA,IAAIrI,UAAU,EAAE;QACdwI,SAAS,CAAC/C,QAAQ,CAACE,IAAI,CAAClB,OAAO,CAAC;MAClC;IAEF,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CC,eAAe,CAAC,uBAAuB,EAAE,OAAO,CAAC;;MAEjD;MACA3E,WAAW,CAACgG,IAAI,IAAI;QAAA,IAAA4D,gBAAA,EAAAC,qBAAA;QAClB,MAAMP,aAAa,GAAGtD,IAAI,CAACC,MAAM,CAACsD,GAAG,IAAI,CAACA,GAAG,CAACxH,QAAQ,CAAC;QACvD,MAAM+H,YAAY,GAAG;UACnB/G,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,YAAY,EAAA4G,gBAAA,GAAAlF,KAAK,CAACkC,QAAQ,cAAAgD,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgB9C,IAAI,cAAA+C,qBAAA,uBAApBA,qBAAA,CAAsBnF,KAAK,KAAIA,KAAK,CAACkB,OAAO,EAAE;UACnE3C,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACnC4G,OAAO,EAAE;QACX,CAAC;QACD,OAAO,CAAC,GAAGT,aAAa,EAAEQ,YAAY,CAAC;MACzC,CAAC,CAAC;IACJ,CAAC,SAAS;MACRxJ,YAAY,CAAC,KAAK,CAAC;MACnB0B,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMgI,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAI,CAACxH,cAAc,CAACoB,OAAO,EAAE;MAC3Be,eAAe,CAAC,kDAAkD,EAAE,OAAO,CAAC;MAC5E;IACF;IAEA,IAAI1D,WAAW,EAAE;MACfuB,cAAc,CAACoB,OAAO,CAACqG,IAAI,CAAC,CAAC;MAC7B/I,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,MAAM;MACLsB,cAAc,CAACoB,OAAO,CAACsG,KAAK,CAAC,CAAC;MAC9BhJ,cAAc,CAAC,IAAI,CAAC;MACpByD,eAAe,CAAC,wBAAwB,EAAE,MAAM,CAAC;IACnD;EACF,CAAC;EAED,MAAMgF,SAAS,GAAIpG,IAAI,IAAK;IAC1B,IAAI,iBAAiB,IAAIE,MAAM,EAAE;MAC/B,MAAM0G,SAAS,GAAG,IAAIC,wBAAwB,CAAC7G,IAAI,CAAC;MACpD4G,SAAS,CAACE,IAAI,GAAG,GAAG;MACpBF,SAAS,CAACG,KAAK,GAAG,CAAC;MACnBH,SAAS,CAACI,MAAM,GAAG,GAAG;MACtB9G,MAAM,CAAC+G,eAAe,CAACC,KAAK,CAACN,SAAS,CAAC;IACzC;EACF,CAAC;EAED,MAAMO,cAAc,GAAG,MAAAA,CAAOC,YAAY,EAAEC,QAAQ,EAAEC,YAAY,GAAG,IAAI,KAAK;IAC5E,IAAI;MACF,MAAM5L,KAAK,CAACmI,IAAI,CAAC,GAAGhI,OAAO,gBAAgB,EAAE;QAC3Ce,MAAM;QACNwK,YAAY;QACZC,QAAQ;QACRC,YAAY;QACZpL;MACF,CAAC,CAAC;MAEF,MAAMqL,eAAe,GAAG,CAAC,GAAG/K,QAAQ,CAAC;MACrC+K,eAAe,CAACH,YAAY,CAAC,CAACC,QAAQ,GAAGA,QAAQ;MACjD5K,WAAW,CAAC8K,eAAe,CAAC;MAE5B,IAAIF,QAAQ,KAAK,UAAU,EAAE;QAC3BjG,eAAe,CAAC,2CAA2C,EAAE,SAAS,CAAC;MACzE;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClDC,eAAe,CAAC,2BAA2B,EAAE,OAAO,CAAC;IACvD;EACF,CAAC;EAED,MAAMoG,gBAAgB,GAAG,MAAOC,MAAM,IAAK;IACzC,IAAI,CAACvH,MAAM,CAACwH,OAAO,CAAC,4CAA4C,CAAC,EAAE;IAEnE,IAAI;MACF,MAAMhM,KAAK,CAACiM,MAAM,CAAC,GAAG9L,OAAO,UAAU4L,MAAM,WAAWzL,IAAI,CAACuD,EAAE,EAAE,CAAC;MAClE,MAAM6D,UAAU,CAAC,CAAC;MAClBhC,eAAe,CAAC,2BAA2B,EAAE,SAAS,CAAC;IACzD,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,eAAe,CAAC,qBAAqB,EAAE,OAAO,CAAC;IACjD;EACF,CAAC;EAED,MAAMwG,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAAChL,MAAM,EAAE;IAEb,IAAI;MACF,MAAMyG,QAAQ,GAAG,MAAM3H,KAAK,CAACmI,IAAI,CAAC,GAAGhI,OAAO,mBAAmB,EAAE;QAC/De,MAAM;QACN+I,MAAM,EAAE3J,IAAI,CAACuD,EAAE;QACfrD;MACF,CAAC,CAAC;MAEFe,cAAc,CAACoG,QAAQ,CAACE,IAAI,CAACsE,OAAO,CAAC;MACrCzG,eAAe,CAAC,gDAAgD,EAAE,SAAS,CAAC;;MAE5E;MACA,MAAM0G,UAAU,GAAG;QACjBtI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,0BAA0B4D,QAAQ,CAACE,IAAI,CAACsE,OAAO,0DAA0D7L,IAAI,CAAC+G,KAAK,EAAE;QAC9HrD,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QACnCmI,YAAY,EAAE;MAChB,CAAC;MACDtL,WAAW,CAACgG,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEqF,UAAU,CAAC,CAAC;IAE5C,CAAC,CAAC,OAAO3G,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CC,eAAe,CAAC,sBAAsB,EAAE,OAAO,CAAC;IAClD;EACF,CAAC;EAED,MAAM4G,cAAc,GAAIC,KAAK,IAAK;IAChC,IAAIA,KAAK,GAAG,IAAI,EAAE,OAAOA,KAAK,GAAG,IAAI,CAAC,KACjC,IAAIA,KAAK,GAAG,OAAO,EAAE,OAAO,CAACA,KAAK,GAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,KAC9D,OAAO,CAACD,KAAK,GAAG,OAAO,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;EAClD,CAAC;EAED,MAAMC,UAAU,GAAIC,IAAI,IAAK;IAC3B,OAAO,IAAIzI,IAAI,CAACyI,IAAI,CAAC,CAACC,cAAc,CAAC,CAAC;EACxC,CAAC;EAED,MAAMC,eAAe,GAAIC,QAAQ,IAAK;IACpC,MAAMC,KAAK,GAAG;MACZC,GAAG,EAAE,IAAI;MAAEC,GAAG,EAAE,IAAI;MAAEC,EAAE,EAAE,IAAI;MAC9BC,GAAG,EAAE,KAAK;MAAEC,GAAG,EAAE,KAAK;MAAEC,IAAI,EAAE,KAAK;MAAEC,IAAI,EAAE;IAC7C,CAAC;IACD,OAAOP,KAAK,CAACD,QAAQ,CAAC,IAAI,IAAI;EAChC,CAAC;;EAED;EACA,MAAMS,QAAQ,GAAGA,CAAA,kBACfpN,OAAA;IAAKqN,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5BtN,OAAA;MAAKqN,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BtN,OAAA;QAAAsN,QAAA,EAAI;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtC1N,OAAA;QAAAsN,QAAA,EAAG;MAAqE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC5E1N,OAAA;QAAM2N,QAAQ,EAAGhI,CAAC,IAAK;UACrBA,CAAC,CAACC,cAAc,CAAC,CAAC;UAClB,MAAMqB,QAAQ,GAAG,IAAIc,QAAQ,CAACpC,CAAC,CAACQ,MAAM,CAAC;UACvCa,oBAAoB,CAAC;YACnBE,IAAI,EAAED,QAAQ,CAACS,GAAG,CAAC,MAAM,CAAC;YAC1BP,KAAK,EAAEF,QAAQ,CAACS,GAAG,CAAC,OAAO,CAAC;YAC5BN,KAAK,EAAEH,QAAQ,CAACS,GAAG,CAAC,OAAO,CAAC;YAC5BL,OAAO,EAAEJ,QAAQ,CAACS,GAAG,CAAC,SAAS,CAAC;YAChCkG,OAAO,EAAE3G,QAAQ,CAACS,GAAG,CAAC,SAAS;UACjC,CAAC,CAAC;QACJ,CAAE;QAAA4F,QAAA,gBACAtN,OAAA;UAAKqN,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtN,OAAA;YAAAsN,QAAA,EAAO;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1B1N,OAAA;YAAO0G,IAAI,EAAC,MAAM;YAACQ,IAAI,EAAC,MAAM;YAAC2G,QAAQ;YAACC,WAAW,EAAC;UAAsB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1E,CAAC,eACN1N,OAAA;UAAKqN,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtN,OAAA;YAAAsN,QAAA,EAAO;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9B1N,OAAA;YAAO0G,IAAI,EAAC,OAAO;YAACQ,IAAI,EAAC,OAAO;YAAC2G,QAAQ;YAACC,WAAW,EAAC;UAAkB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC,eACN1N,OAAA;UAAKqN,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtN,OAAA;YAAAsN,QAAA,EAAO;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3B1N,OAAA;YAAO0G,IAAI,EAAC,KAAK;YAACQ,IAAI,EAAC,OAAO;YAAC4G,WAAW,EAAC;UAAyB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACN1N,OAAA;UAAKqN,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtN,OAAA;YAAAsN,QAAA,EAAO;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnC1N,OAAA;YAAO0G,IAAI,EAAC,MAAM;YAACQ,IAAI,EAAC,SAAS;YAAC4G,WAAW,EAAC;UAAyB;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC,eACN1N,OAAA;UAAKqN,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBtN,OAAA;YAAAsN,QAAA,EAAO;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/B1N,OAAA;YAAQkH,IAAI,EAAC,SAAS;YAAC2G,QAAQ;YAAAP,QAAA,gBAC7BtN,OAAA;cAAQ+I,KAAK,EAAC,EAAE;cAAAuE,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACxC1N,OAAA;cAAQ+I,KAAK,EAAC,UAAU;cAAAuE,QAAA,EAAC;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrD1N,OAAA;cAAQ+I,KAAK,EAAC,SAAS;cAAAuE,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjD1N,OAAA;cAAQ+I,KAAK,EAAC,cAAc;cAAAuE,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAClD1N,OAAA;cAAQ+I,KAAK,EAAC,OAAO;cAAAuE,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACN1N,OAAA;UAAKqN,SAAS,EAAC,cAAc;UAAAC,QAAA,eAC3BtN,OAAA;YAAQ0G,IAAI,EAAC,QAAQ;YAAC2G,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;;EAED;EACA,MAAMK,qBAAqB,GAAGA,CAAA,kBAC5B/N,OAAA;IAAKqN,SAAS,EAAC,eAAe;IAAAC,QAAA,EAC3B5K,aAAa,CAACsL,GAAG,CAACrH,YAAY,iBAC7B3G,OAAA;MAA2BqN,SAAS,EAAE,gBAAgB1G,YAAY,CAACD,IAAI,EAAG;MAAA4G,QAAA,gBACxEtN,OAAA;QAAAsN,QAAA,EAAO3G,YAAY,CAACF;MAAO;QAAA8G,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACnC1N,OAAA;QAAQiO,OAAO,EAAEA,CAAA,KAAMtL,gBAAgB,CAACkE,IAAI,IAAIA,IAAI,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACpD,EAAE,KAAKgD,YAAY,CAAChD,EAAE,CAAC,CAAE;QAAA2J,QAAA,EAAC;MAE7F;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GAJD/G,YAAY,CAAChD,EAAE;MAAA4J,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAKpB,CACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CACN;EAED,oBACE1N,OAAA;IAAKqN,SAAS,EAAE,OAAO7K,KAAK,EAAG;IAAA8K,QAAA,GAC5B9M,YAAY,iBAAIR,OAAA,CAACoN,QAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7B1N,OAAA,CAAC+N,qBAAqB;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEzB1N,OAAA;MAAQqN,SAAS,EAAC,QAAQ;MAAAC,QAAA,gBACxBtN,OAAA;QAAKqN,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BtN,OAAA;UAAAsN,QAAA,EAAI;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjC1N,OAAA;UAAMqN,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAA2B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5D,CAAC,eACN1N,OAAA;QAAKqN,SAAS,EAAC,cAAc;QAAAC,QAAA,EAC1BlN,IAAI,iBACHJ,OAAA;UAAKqN,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBtN,OAAA;YAAAsN,QAAA,GAAM,eAAG,EAAClN,IAAI,CAAC8G,IAAI;UAAA;YAAAqG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3B1N,OAAA;YAAQiO,OAAO,EAAEA,CAAA,KAAM1L,eAAe,CAAC,CAACD,YAAY,CAAE;YAAC+K,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAEhF;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACRhN,cAAc,iBACbV,OAAA;YAAQiO,OAAO,EAAEjC,UAAW;YAACqB,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAAC;UAEzD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAET1N,OAAA;MAAKqN,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BtN,OAAA;QAAKqN,SAAS,EAAC,SAAS;QAAAC,QAAA,gBACtBtN,OAAA;UAAKqN,SAAS,EAAE,oBAAoBzL,UAAU,GAAG,WAAW,GAAG,EAAE,EAAG;UAACsM,GAAG,EAAE5K,WAAY;UAAAgK,QAAA,gBACpFtN,OAAA;YAAAsN,QAAA,EAAI;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3B1N,OAAA;YAAKqN,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BtN,OAAA;cAAKqN,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrC1N,OAAA;cAAAsN,QAAA,EAAG;YAAyC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAChD1N,OAAA;cAAGqN,SAAS,EAAC,mBAAmB;cAAAC,QAAA,EAAC;YAEjC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eACJ1N,OAAA;cACE0G,IAAI,EAAC,MAAM;cACXwH,GAAG,EAAEhL,YAAa;cAClBiL,QAAQ,EAAEjI,gBAAiB;cAC3BkI,MAAM,EAAC,qCAAqC;cAC5CC,KAAK,EAAE;gBAAEC,OAAO,EAAE;cAAO;YAAE;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5B,CAAC,eACF1N,OAAA;cACEiO,OAAO,EAAEA,CAAA;gBAAA,IAAAM,qBAAA;gBAAA,QAAAA,qBAAA,GAAMrL,YAAY,CAACuB,OAAO,cAAA8J,qBAAA,uBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC;cAAA,CAAC;cAC7CC,QAAQ,EAAEjN,SAAU;cACpB6L,SAAS,EAAC,YAAY;cAAAC,QAAA,EAErB9L,SAAS,GAAG,gBAAgBE,cAAc,GAAG,GAAG;YAAiB;cAAA6L,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,EACRlM,SAAS,iBACRxB,OAAA;cAAKqN,SAAS,EAAC,cAAc;cAAAC,QAAA,eAC3BtN,OAAA;gBAAKqN,SAAS,EAAC,UAAU;gBAACgB,KAAK,EAAE;kBAAEK,KAAK,EAAE,GAAGhN,cAAc;gBAAI;cAAE;gBAAA6L,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrE,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN1N,OAAA;UAAKqN,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBtN,OAAA;YAAAsN,QAAA,GAAI,+BAAmB,EAAChM,KAAK,CAAC6D,MAAM,EAAC,GAAC;UAAA;YAAAoI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAC1CpM,KAAK,CAAC6D,MAAM,KAAK,CAAC,gBACjBnF,OAAA;YAAKqN,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BtN,OAAA;cAAAsN,QAAA,EAAG;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,eAC5B1N,OAAA;cAAAsN,QAAA,EAAO;YAAoD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,gBAEN1N,OAAA;YAAKqN,SAAS,EAAC,OAAO;YAAAC,QAAA,EACnBhM,KAAK,CAAC0M,GAAG,CAAClG,IAAI,iBACb9H,OAAA;cAAmBqN,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACtCtN,OAAA;gBAAKqN,SAAS,EAAC,WAAW;gBAAAC,QAAA,EAAEZ,eAAe,CAAC5E,IAAI,CAAC6E,QAAQ;cAAC;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjE1N,OAAA;gBAAKqN,SAAS,EAAC,cAAc;gBAAAC,QAAA,gBAC3BtN,OAAA;kBAAKqN,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAExF,IAAI,CAACY;gBAAQ;kBAAA6E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAChD1N,OAAA;kBAAKqN,SAAS,EAAC,WAAW;kBAAAC,QAAA,GACvBlB,cAAc,CAACtE,IAAI,CAAC6G,QAAQ,CAAC,EAAC,UAAG,EAACpC,UAAU,CAACzE,IAAI,CAAC8G,UAAU,CAAC;gBAAA;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3D,CAAC,eACN1N,OAAA;kBAAKqN,SAAS,EAAC,cAAc;kBAAAC,QAAA,GAC1BxF,IAAI,CAAC+G,WAAW,EAAC,iBACpB;gBAAA;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eACN1N,OAAA;gBACEiO,OAAO,EAAEA,CAAA,KAAMrC,gBAAgB,CAAC9D,IAAI,CAACnE,EAAE,CAAE;gBACzC0J,SAAS,EAAC,YAAY;gBACtByB,KAAK,EAAC,aAAa;gBAAAxB,QAAA,EACpB;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GAjBD5F,IAAI,CAACnE,EAAE;cAAA4J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAkBZ,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN1N,OAAA;QAAKqN,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BtN,OAAA;UAAKqN,SAAS,EAAC,UAAU;UAAC1J,EAAE,EAAC,UAAU;UAAA2J,QAAA,GACpC1M,QAAQ,CAACoN,GAAG,CAAC,CAACvH,OAAO,EAAEsI,KAAK,kBAC3B/O,OAAA;YAAiBqN,SAAS,EAAE,WAAW5G,OAAO,CAAC7C,IAAI,EAAG;YAAA0J,QAAA,gBACpDtN,OAAA;cAAKqN,SAAS,EAAC,iBAAiB;cAAAC,QAAA,GAC7B7G,OAAO,CAACkD,KAAK,iBACZ3J,OAAA;gBAAKqN,SAAS,EAAC,eAAe;gBAAAC,QAAA,gBAC5BtN,OAAA;kBAAKgP,GAAG,EAAEvI,OAAO,CAACkD,KAAM;kBAACsF,GAAG,EAAExI,OAAO,CAACmD;gBAAU;kBAAA2D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACnD1N,OAAA;kBAAMqN,SAAS,EAAC,YAAY;kBAAAC,QAAA,EAAE7G,OAAO,CAACmD;gBAAS;kBAAA2D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpD,CACN,eAED1N,OAAA;gBAAKqN,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAC1B7G,OAAO,CAAC5C;cAAO;gBAAA0J,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CAAC,EAELjH,OAAO,CAACvC,QAAQ,iBACflE,OAAA;gBAAKqN,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAC1B7G,OAAO,CAACvC,QAAQ,CAAC8J,GAAG,CAAC,CAACkB,OAAO,EAAElK,CAAC,kBAC/BhF,OAAA;kBAAaqN,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBACnCtN,OAAA;oBAAMqN,SAAS,EAAC,cAAc;oBAAAC,QAAA,EAAE4B,OAAO,CAAC/K;kBAAI;oBAAAoJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACpD1N,OAAA;oBAAMqN,SAAS,EAAC,cAAc;oBAAAC,QAAA,EAAE4B,OAAO,CAAC9K;kBAAI;oBAAAmJ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA,GAF5C1I,CAAC;kBAAAuI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAGN,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CACN,EAEAjH,OAAO,CAAC6D,OAAO,IAAI7D,OAAO,CAAC6D,OAAO,CAACnF,MAAM,GAAG,CAAC,iBAC5CnF,OAAA;gBAAKqN,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,eAC9BtN,OAAA;kBAAAsN,QAAA,gBACEtN,OAAA;oBAAAsN,QAAA,GAAS,wBAAY,EAAC7G,OAAO,CAAC6D,OAAO,CAACnF,MAAM,EAAC,GAAC;kBAAA;oBAAAoI,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAS,CAAC,eACxD1N,OAAA;oBAAKqN,SAAS,EAAC,cAAc;oBAAAC,QAAA,EAC1B7G,OAAO,CAAC6D,OAAO,CAAC0D,GAAG,CAAC,CAACmB,MAAM,EAAEnK,CAAC,kBAC7BhF,OAAA;sBAAaqN,SAAS,EAAC,aAAa;sBAAAC,QAAA,gBAClCtN,OAAA;wBAAKqN,SAAS,EAAC,aAAa;wBAAAC,QAAA,EAAE6B,MAAM,CAAC/K;sBAAI;wBAAAmJ,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eAChD1N,OAAA;wBAAKqN,SAAS,EAAC,aAAa;wBAAAC,QAAA,GAAC,QAAM,EAAC6B,MAAM,CAACtD,MAAM;sBAAA;wBAAA0B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA,GAFhD1I,CAAC;sBAAAuI,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAGN,CACN;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAEN1N,OAAA;cAAKqN,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7BtN,OAAA;gBAAMqN,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAEf,UAAU,CAAC9F,OAAO,CAAC3C,SAAS;cAAC;gBAAAyJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,EAEpEjH,OAAO,CAAC7C,IAAI,KAAK,WAAW,IAAI,CAAC6C,OAAO,CAACxC,UAAU,iBAClDjE,OAAA;gBAAKqN,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9BtN,OAAA;kBACEiO,OAAO,EAAEA,CAAA,KAAM1C,cAAc,CAACwD,KAAK,EAAE,UAAU,CAAE;kBACjD1B,SAAS,EAAE,gBAAgB5G,OAAO,CAACgF,QAAQ,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;kBAC7EqD,KAAK,EAAC,eAAe;kBAAAxB,QAAA,EACtB;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT1N,OAAA;kBACEiO,OAAO,EAAEA,CAAA,KAAM;oBACb,MAAMmB,MAAM,GAAGC,MAAM,CAAC,oDAAoD,CAAC;oBAC3E,IAAID,MAAM,EAAE7D,cAAc,CAACwD,KAAK,EAAE,UAAU,EAAEK,MAAM,CAAC;kBACvD,CAAE;kBACF/B,SAAS,EAAE,gBAAgB5G,OAAO,CAACgF,QAAQ,KAAK,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;kBAC7EqD,KAAK,EAAC,2BAA2B;kBAAAxB,QAAA,EAClC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACT1N,OAAA;kBACEiO,OAAO,EAAEA,CAAA,KAAMzD,SAAS,CAAC/D,OAAO,CAAC5C,OAAO,CAAE;kBAC1CwJ,SAAS,EAAC,WAAW;kBACrByB,KAAK,EAAC,YAAY;kBAAAxB,QAAA,EACnB;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA,GAxEEqB,KAAK;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyEV,CACN,CAAC,EAEDxM,SAAS,iBACRlB,OAAA;YAAKqN,SAAS,EAAC,mBAAmB;YAAAC,QAAA,eAChCtN,OAAA;cAAKqN,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BtN,OAAA;gBAAAuN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eAAA1N,OAAA;gBAAAuN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eAAA1N,OAAA;gBAAAuN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAED1N,OAAA;YAAKkO,GAAG,EAAE9K;UAAe;YAAAmK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC,eAEN1N,OAAA;UAAKqN,SAAS,EAAC,iBAAiB;UAAAC,QAAA,GAC7BpL,aAAa,iBACZlC,OAAA;YAAKqN,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BtN,OAAA;cAAKgP,GAAG,EAAE5M,YAAa;cAAC6M,GAAG,EAAC;YAAU;cAAA1B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACzC1N,OAAA;cAAAsN,QAAA,EAAOpL,aAAa,CAACgF;YAAI;cAAAqG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjC1N,OAAA;cAAQiO,OAAO,EAAEA,CAAA,KAAM;gBAAE9L,gBAAgB,CAAC,IAAI,CAAC;gBAAEE,eAAe,CAAC,IAAI,CAAC;cAAE,CAAE;cAAAiL,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClF,CACN,eAED1N,OAAA;YAAKqN,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBtN,OAAA;cACE+I,KAAK,EAAEjI,KAAM;cACbqN,QAAQ,EAAGxI,CAAC,IAAK5E,QAAQ,CAAC4E,CAAC,CAACQ,MAAM,CAAC4C,KAAK,CAAE;cAC1C+E,WAAW,EAAEhM,WAAW,GAAG,iBAAiB,GAAG,sDAAuD;cACtGwN,SAAS,EAAG3J,CAAC,IAAK;gBAChB,IAAIA,CAAC,CAAC4J,GAAG,KAAK,OAAO,IAAI,CAAC5J,CAAC,CAAC6J,QAAQ,EAAE;kBACpC7J,CAAC,CAACC,cAAc,CAAC,CAAC;kBAClB0D,iBAAiB,CAAC,CAAC;gBACrB;cACF,CAAE;cACFmF,QAAQ,EAAEvN,SAAU;cACpBmM,SAAS,EAAEvL,WAAW,GAAG,WAAW,GAAG;YAAG;cAAAyL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3C,CAAC,eAEF1N,OAAA;cAAKqN,SAAS,EAAC,eAAe;cAAAC,QAAA,gBAC5BtN,OAAA;gBACE0G,IAAI,EAAC,MAAM;gBACXwH,GAAG,EAAE/K,aAAc;gBACnBgL,QAAQ,EAAEnF,iBAAkB;gBAC5BoF,MAAM,EAAC,SAAS;gBAChBC,KAAK,EAAE;kBAAEC,OAAO,EAAE;gBAAO;cAAE;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B,CAAC,eAEF1N,OAAA;gBACEiO,OAAO,EAAEA,CAAA;kBAAA,IAAAwB,qBAAA;kBAAA,QAAAA,qBAAA,GAAMtM,aAAa,CAACsB,OAAO,cAAAgL,qBAAA,uBAArBA,qBAAA,CAAuBjB,KAAK,CAAC,CAAC;gBAAA,CAAC;gBAC9CnB,SAAS,EAAC,YAAY;gBACtByB,KAAK,EAAC,cAAc;gBAAAxB,QAAA,EACrB;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAET1N,OAAA;gBACEiO,OAAO,EAAEpD,gBAAiB;gBAC1BwC,SAAS,EAAE,cAAcvL,WAAW,GAAG,QAAQ,GAAG,EAAE,EAAG;gBACvDgN,KAAK,EAAC,aAAa;gBAAAxB,QAAA,EACpB;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAET1N,OAAA;gBACEiO,OAAO,EAAEA,CAAA,KAAMhM,aAAa,CAAC,CAACD,UAAU,CAAE;gBAC1CqL,SAAS,EAAE,cAAcrL,UAAU,GAAG,QAAQ,GAAG,EAAE,EAAG;gBACtD8M,KAAK,EAAC,uBAAuB;gBAAAxB,QAAA,EAC9B;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAET1N,OAAA;gBACEiO,OAAO,EAAE3E,iBAAkB;gBAC3BmF,QAAQ,EAAG,CAAC3N,KAAK,CAACyI,IAAI,CAAC,CAAC,IAAI,CAACrH,aAAa,IAAKhB,SAAU;gBACzDmM,SAAS,EAAC,UAAU;gBAAAC,QAAA,EAEnBpM,SAAS,GAAG,GAAG,GAAG;cAAI;gBAAAqM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvN,EAAA,CA1vBQD,GAAG;AAAAwP,EAAA,GAAHxP,GAAG;AA4vBZ,eAAeA,GAAG;AAAC,IAAAwP,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}