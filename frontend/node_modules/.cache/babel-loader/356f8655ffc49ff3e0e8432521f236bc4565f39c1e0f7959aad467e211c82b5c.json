{"ast":null,"code":"var _jsxFileName = \"E:\\\\delivery\\\\frontend\\\\src\\\\components\\\\VoiceInput.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Mic, MicOff, Volume2, VolumeX } from 'lucide-react';\nimport { cn } from '../utils';\nimport voiceService from '../services/voiceService';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoiceInput = ({\n  onTranscript,\n  onSpeakToggle,\n  isSpeaking,\n  disabled = false,\n  className\n}) => {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const [interimTranscript, setInterimTranscript] = useState('');\n  const [isSupported, setIsSupported] = useState(true);\n  const [audioLevel, setAudioLevel] = useState(0);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const microphoneRef = useRef(null);\n  const animationRef = useRef(null);\n  useEffect(() => {\n    const support = voiceService.isSupported();\n    setIsSupported(support.speechRecognition && support.speechSynthesis);\n\n    // Setup voice service event handlers\n    voiceService.onSpeechStart(() => {\n      setIsListening(true);\n      startAudioVisualization();\n    });\n    voiceService.onSpeechResult(result => {\n      setInterimTranscript(result.interim);\n      if (result.isFinal && result.final.trim()) {\n        onTranscript(result.final.trim());\n        setInterimTranscript('');\n      }\n    });\n    voiceService.onSpeechError(error => {\n      setIsListening(false);\n      stopAudioVisualization();\n      toast.error(`Voice recognition error: ${error}`);\n    });\n    voiceService.onSpeechEnd(() => {\n      setIsListening(false);\n      stopAudioVisualization();\n      setInterimTranscript('');\n    });\n    return () => {\n      stopAudioVisualization();\n    };\n  }, [onTranscript]);\n  const startAudioVisualization = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      microphoneRef.current = audioContextRef.current.createMediaStreamSource(stream);\n      analyserRef.current.fftSize = 256;\n      microphoneRef.current.connect(analyserRef.current);\n      const dataArray = new Uint8Array(analyserRef.current.frequencyBinCount);\n      const updateAudioLevel = () => {\n        if (analyserRef.current && isListening) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((a, b) => a + b) / dataArray.length;\n          setAudioLevel(average / 255);\n          animationRef.current = requestAnimationFrame(updateAudioLevel);\n        }\n      };\n      updateAudioLevel();\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      toast.error('Could not access microphone');\n    }\n  };\n  const stopAudioVisualization = () => {\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n    }\n    if (audioContextRef.current) {\n      audioContextRef.current.close();\n    }\n    setAudioLevel(0);\n  };\n  const handleVoiceToggle = async () => {\n    if (!isSupported) {\n      toast.error('Voice recognition is not supported in this browser');\n      return;\n    }\n    if (disabled) return;\n    try {\n      if (isListening) {\n        voiceService.stopListening();\n      } else {\n        voiceService.startListening();\n      }\n    } catch (error) {\n      toast.error('Failed to start voice recognition');\n      console.error('Voice recognition error:', error);\n    }\n  };\n  const handleSpeakToggle = () => {\n    if (!isSupported) {\n      toast.error('Text-to-speech is not supported in this browser');\n      return;\n    }\n    onSpeakToggle();\n  };\n  if (!isSupported) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-2 text-gray-400\",\n      children: [/*#__PURE__*/_jsxDEV(MicOff, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs\",\n        children: \"Voice not supported\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cn(\"flex items-center space-x-2\", className),\n    children: [/*#__PURE__*/_jsxDEV(motion.button, {\n      onClick: handleVoiceToggle,\n      disabled: disabled,\n      className: cn(\"relative p-3 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\", isListening ? \"bg-red-500 hover:bg-red-600 text-white shadow-lg\" : \"bg-gray-100 hover:bg-gray-200 text-gray-600\", disabled && \"opacity-50 cursor-not-allowed\"),\n      whileTap: {\n        scale: 0.95\n      },\n      title: isListening ? \"Stop listening\" : \"Start voice input\",\n      children: [isListening ? /*#__PURE__*/_jsxDEV(MicOff, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Mic, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), isListening && /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"absolute inset-0 rounded-full border-2 border-red-300\",\n        animate: {\n          scale: [1, 1 + audioLevel * 0.5, 1],\n          opacity: [0.7, 1, 0.7]\n        },\n        transition: {\n          duration: 0.5,\n          repeat: Infinity,\n          ease: \"easeInOut\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n      onClick: handleSpeakToggle,\n      className: cn(\"p-3 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\", isSpeaking ? \"bg-primary-500 hover:bg-primary-600 text-white\" : \"bg-gray-100 hover:bg-gray-200 text-gray-600\"),\n      whileTap: {\n        scale: 0.95\n      },\n      title: isSpeaking ? \"Disable text-to-speech\" : \"Enable text-to-speech\",\n      children: isSpeaking ? /*#__PURE__*/_jsxDEV(Volume2, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(VolumeX, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: interimTranscript && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: -20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        exit: {\n          opacity: 0,\n          x: 20\n        },\n        className: \"absolute left-full ml-4 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white px-3 py-2 rounded-lg text-sm max-w-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"italic\",\n            children: interimTranscript\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), isListening && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        scale: 0.8\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      exit: {\n        opacity: 0,\n        scale: 0.8\n      },\n      className: \"flex items-center space-x-2 text-red-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-2 h-2 bg-red-500 rounded-full animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs font-medium\",\n        children: \"Listening...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(VoiceInput, \"gSudmdC5nSCaOJsFv3kHwtOa9cg=\");\n_c = VoiceInput;\nexport default VoiceInput;\nvar _c;\n$RefreshReg$(_c, \"VoiceInput\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","Mic","MicOff","Volume2","VolumeX","cn","voiceService","toast","jsxDEV","_jsxDEV","VoiceInput","onTranscript","onSpeakToggle","isSpeaking","disabled","className","_s","isListening","setIsListening","interimTranscript","setInterimTranscript","isSupported","setIsSupported","audioLevel","setAudioLevel","audioContextRef","analyserRef","microphoneRef","animationRef","support","speechRecognition","speechSynthesis","onSpeechStart","startAudioVisualization","onSpeechResult","result","interim","isFinal","final","trim","onSpeechError","error","stopAudioVisualization","onSpeechEnd","stream","navigator","mediaDevices","getUserMedia","audio","current","window","AudioContext","webkitAudioContext","createAnalyser","createMediaStreamSource","fftSize","connect","dataArray","Uint8Array","frequencyBinCount","updateAudioLevel","getByteFrequencyData","average","reduce","a","b","length","requestAnimationFrame","console","cancelAnimationFrame","close","handleVoiceToggle","stopListening","startListening","handleSpeakToggle","children","fileName","_jsxFileName","lineNumber","columnNumber","button","onClick","whileTap","scale","title","div","animate","opacity","transition","duration","repeat","Infinity","ease","initial","x","exit","_c","$RefreshReg$"],"sources":["E:/delivery/frontend/src/components/VoiceInput.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Mic, MicOff, Volume2, VolumeX } from 'lucide-react';\nimport { cn } from '../utils';\nimport voiceService from '../services/voiceService';\nimport toast from 'react-hot-toast';\n\nconst VoiceInput = ({ \n  onTranscript, \n  onSpeakToggle, \n  isSpeaking, \n  disabled = false,\n  className \n}) => {\n  const [isListening, setIsListening] = useState(false);\n  const [interimTranscript, setInterimTranscript] = useState('');\n  const [isSupported, setIsSupported] = useState(true);\n  const [audioLevel, setAudioLevel] = useState(0);\n  const audioContextRef = useRef(null);\n  const analyserRef = useRef(null);\n  const microphoneRef = useRef(null);\n  const animationRef = useRef(null);\n\n  useEffect(() => {\n    const support = voiceService.isSupported();\n    setIsSupported(support.speechRecognition && support.speechSynthesis);\n\n    // Setup voice service event handlers\n    voiceService.onSpeechStart(() => {\n      setIsListening(true);\n      startAudioVisualization();\n    });\n\n    voiceService.onSpeechResult((result) => {\n      setInterimTranscript(result.interim);\n      if (result.isFinal && result.final.trim()) {\n        onTranscript(result.final.trim());\n        setInterimTranscript('');\n      }\n    });\n\n    voiceService.onSpeechError((error) => {\n      setIsListening(false);\n      stopAudioVisualization();\n      toast.error(`Voice recognition error: ${error}`);\n    });\n\n    voiceService.onSpeechEnd(() => {\n      setIsListening(false);\n      stopAudioVisualization();\n      setInterimTranscript('');\n    });\n\n    return () => {\n      stopAudioVisualization();\n    };\n  }, [onTranscript]);\n\n  const startAudioVisualization = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      microphoneRef.current = audioContextRef.current.createMediaStreamSource(stream);\n      \n      analyserRef.current.fftSize = 256;\n      microphoneRef.current.connect(analyserRef.current);\n      \n      const dataArray = new Uint8Array(analyserRef.current.frequencyBinCount);\n      \n      const updateAudioLevel = () => {\n        if (analyserRef.current && isListening) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const average = dataArray.reduce((a, b) => a + b) / dataArray.length;\n          setAudioLevel(average / 255);\n          animationRef.current = requestAnimationFrame(updateAudioLevel);\n        }\n      };\n      \n      updateAudioLevel();\n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      toast.error('Could not access microphone');\n    }\n  };\n\n  const stopAudioVisualization = () => {\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n    }\n    if (audioContextRef.current) {\n      audioContextRef.current.close();\n    }\n    setAudioLevel(0);\n  };\n\n  const handleVoiceToggle = async () => {\n    if (!isSupported) {\n      toast.error('Voice recognition is not supported in this browser');\n      return;\n    }\n\n    if (disabled) return;\n\n    try {\n      if (isListening) {\n        voiceService.stopListening();\n      } else {\n        voiceService.startListening();\n      }\n    } catch (error) {\n      toast.error('Failed to start voice recognition');\n      console.error('Voice recognition error:', error);\n    }\n  };\n\n  const handleSpeakToggle = () => {\n    if (!isSupported) {\n      toast.error('Text-to-speech is not supported in this browser');\n      return;\n    }\n    onSpeakToggle();\n  };\n\n  if (!isSupported) {\n    return (\n      <div className=\"flex items-center space-x-2 text-gray-400\">\n        <MicOff className=\"w-5 h-5\" />\n        <span className=\"text-xs\">Voice not supported</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"flex items-center space-x-2\", className)}>\n      {/* Voice Input Button */}\n      <motion.button\n        onClick={handleVoiceToggle}\n        disabled={disabled}\n        className={cn(\n          \"relative p-3 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\",\n          isListening\n            ? \"bg-red-500 hover:bg-red-600 text-white shadow-lg\"\n            : \"bg-gray-100 hover:bg-gray-200 text-gray-600\",\n          disabled && \"opacity-50 cursor-not-allowed\"\n        )}\n        whileTap={{ scale: 0.95 }}\n        title={isListening ? \"Stop listening\" : \"Start voice input\"}\n      >\n        {isListening ? (\n          <MicOff className=\"w-5 h-5\" />\n        ) : (\n          <Mic className=\"w-5 h-5\" />\n        )}\n        \n        {/* Audio Level Visualization */}\n        {isListening && (\n          <motion.div\n            className=\"absolute inset-0 rounded-full border-2 border-red-300\"\n            animate={{\n              scale: [1, 1 + audioLevel * 0.5, 1],\n              opacity: [0.7, 1, 0.7]\n            }}\n            transition={{\n              duration: 0.5,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n          />\n        )}\n      </motion.button>\n\n      {/* Text-to-Speech Toggle */}\n      <motion.button\n        onClick={handleSpeakToggle}\n        className={cn(\n          \"p-3 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\",\n          isSpeaking\n            ? \"bg-primary-500 hover:bg-primary-600 text-white\"\n            : \"bg-gray-100 hover:bg-gray-200 text-gray-600\"\n        )}\n        whileTap={{ scale: 0.95 }}\n        title={isSpeaking ? \"Disable text-to-speech\" : \"Enable text-to-speech\"}\n      >\n        {isSpeaking ? (\n          <Volume2 className=\"w-5 h-5\" />\n        ) : (\n          <VolumeX className=\"w-5 h-5\" />\n        )}\n      </motion.button>\n\n      {/* Interim Transcript Display */}\n      <AnimatePresence>\n        {interimTranscript && (\n          <motion.div\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: 20 }}\n            className=\"absolute left-full ml-4 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white px-3 py-2 rounded-lg text-sm max-w-xs\"\n          >\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n              <span className=\"italic\">{interimTranscript}</span>\n            </div>\n            <div className=\"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 rotate-45\"></div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Listening Status */}\n      {isListening && (\n        <motion.div\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          className=\"flex items-center space-x-2 text-red-600\"\n        >\n          <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n          <span className=\"text-xs font-medium\">Listening...</span>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default VoiceInput;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}