{"ast":null,"code":"var _jsxFileName = \"E:\\\\delivery\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('light');\n  const [notifications, setNotifications] = useState([]);\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"ü§ñ Welcome to your Enhanced AI Assistant powered by Gemini 2.0 Flash! I can help you with:\\n\\nüìÑ Document analysis and Q&A\\nüñºÔ∏è Image analysis and OCR\\nüé§ Voice conversations\\nüìß Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [{\n        icon: 'üìÑ',\n        text: 'Upload and analyze documents'\n      }, {\n        icon: 'üñºÔ∏è',\n        text: 'Image analysis with OCR'\n      }, {\n        icon: 'üé§',\n        text: 'Voice input and output'\n      }, {\n        icon: 'üìß',\n        text: 'Email session summaries'\n      }]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onresult = event => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n    const handleDragOver = e => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n    const handleDragLeave = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n    const handleDrop = e => {\n      e.preventDefault();\n      setIsDragOver(false);\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({\n          target: {\n            files\n          }\n        });\n      }\n    };\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n  const handleUserFormSubmit = async formData => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! üëã I've recorded your session details. How can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n  const fetchFiles = async () => {\n    if (!user) return;\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n  const handleFileUpload = async event => {\n    var _event$dataTransfer;\n    const fileList = event.target.files || ((_event$dataTransfer = event.dataTransfer) === null || _event$dataTransfer === void 0 ? void 0 : _event$dataTransfer.files);\n    if (!fileList || fileList.length === 0) return;\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n    setUploading(true);\n    setUploadProgress(0);\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `üìÑ File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = e => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n      if (!chatId) setChatId(response.data.chatId);\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.message,\n        timestamp: new Date().toISOString(),\n        sources: response.data.sources,\n        confidence: response.data.confidence\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n      const errorMessage = {\n        role: 'assistant',\n        content: `‚ùå Error: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message}`,\n        timestamp: new Date().toISOString(),\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n  const speakText = text => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n  const handleDeleteFile = async fileId => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n  const endSession = async () => {\n    if (!chatId) return;\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `üìã Session Summary:\\n\\n${response.data.summary}\\n\\nüìß A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n  const formatFileSize = bytes => {\n    if (bytes < 1024) return bytes + ' B';else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleString();\n  };\n  const getFileTypeIcon = fileType => {\n    const icons = {\n      pdf: 'üìÑ',\n      txt: 'üìù',\n      md: 'üìã',\n      png: 'üñºÔ∏è',\n      jpg: 'üñºÔ∏è',\n      jpeg: 'üñºÔ∏è',\n      webp: 'üñºÔ∏è'\n    };\n    return icons[fileType] || 'üìÅ';\n  };\n\n  // User Form Component\n  const UserForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-form-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDC4B Welcome! Let's get started\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please provide some basic information to personalize your experience:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            required: true,\n            placeholder: \"Enter your full name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email Address *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            required: true,\n            placeholder: \"Enter your email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            name: \"phone\",\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Company/Organization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"company\",\n            placeholder: \"Enter your company name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Purpose of Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"purpose\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select purpose\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"research\",\n              children: \"Research & Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"support\",\n              children: \"Customer Support\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"consultation\",\n              children: \"Consultation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            children: \"Start Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 431,\n    columnNumber: 5\n  }, this);\n\n  // Notification Component\n  const NotificationContainer = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notifications\",\n    children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setNotifications(prev => prev.filter(n => n.id !== notification.id)),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 11\n      }, this)]\n    }, notification.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 482,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `app ${theme}`,\n    children: [showUserForm && /*#__PURE__*/_jsxDEV(UserForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83E\\uDD16 Enhanced AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"powered-by\",\n          children: \"Powered by Gemini 2.0 Flash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: user && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\uD83D\\uDC64 \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"settings-btn\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this), sessionStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: endSession,\n            className: \"end-session-btn\",\n            children: \"\\uD83D\\uDCCB End Session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `file-upload-zone ${isDragOver ? 'drag-over' : ''}`,\n          ref: dropZoneRef,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC1 File Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-icon\",\n              children: \"\\uD83D\\uDCE4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drag & drop files here or click to browse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"supported-formats\",\n              children: \"Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              ref: fileInputRef,\n              onChange: handleFileUpload,\n              accept: \".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\",\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              disabled: uploading,\n              className: \"upload-btn\",\n              children: uploading ? `Uploading... ${uploadProgress}%` : 'üìé Select Files'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress\",\n                style: {\n                  width: `${uploadProgress}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"\\uD83D\\uDCCB Your Documents (\", files.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this), files.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No files uploaded yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Upload documents to enable RAG-powered conversations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"files\",\n            children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-icon\",\n                children: getFileTypeIcon(file.fileType)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-name\",\n                  children: file.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-meta\",\n                  children: [formatFileSize(file.fileSize), \" \\u2022 \", formatDate(file.uploadDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-vectors\",\n                  children: [file.vectorCount, \" chunks indexed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteFile(file.id),\n                className: \"delete-btn\",\n                title: \"Delete file\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 21\n              }, this)]\n            }, file.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages\",\n          id: \"messages\",\n          children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.role}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [message.image && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-image\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: message.image,\n                  alt: message.imageName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"image-name\",\n                  children: message.imageName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 19\n              }, this), message.features && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feature-list\",\n                children: message.features.map((feature, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"feature-icon\",\n                    children: feature.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"feature-text\",\n                    children: feature.text\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 27\n                  }, this)]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 21\n              }, this), message.sources && message.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-sources\",\n                children: /*#__PURE__*/_jsxDEV(\"details\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                    children: [\"\\uD83D\\uDCDA Sources (\", message.sources.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sources-list\",\n                    children: message.sources.map((source, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"source-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"source-text\",\n                        children: source.text\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 622,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"source-file\",\n                        children: [\"From: \", source.fileId]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 623,\n                        columnNumber: 31\n                      }, this)]\n                    }, i, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 621,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: formatDate(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 19\n              }, this), message.role === 'assistant' && !message.isGreeting && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleFeedback(index, 'positive'),\n                  className: `feedback-btn ${message.feedback === 'positive' ? 'active' : ''}`,\n                  title: \"Good response\",\n                  children: \"\\uD83D\\uDC4D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const reason = prompt('Please describe what was wrong with this response:');\n                    if (reason) handleFeedback(index, 'negative', reason);\n                  },\n                  className: `feedback-btn ${message.feedback === 'negative' ? 'active' : ''}`,\n                  title: \"Report incorrect response\",\n                  children: \"\\uD83D\\uDC4E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => speakText(message.content),\n                  className: \"speak-btn\",\n                  title: \"Read aloud\",\n                  children: \"\\uD83D\\uDD0A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message assistant\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 32\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [selectedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: selectedImage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedImage(null);\n                setImagePreview(null);\n              },\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-area\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: input,\n              onChange: e => setInput(e.target.value),\n              placeholder: isListening ? \"üé§ Listening...\" : \"Type your message here... (Shift+Enter for new line)\",\n              onKeyDown: e => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSendMessage();\n                }\n              },\n              disabled: isLoading,\n              className: isListening ? 'listening' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: imageInputRef,\n                onChange: handleImageUpload,\n                accept: \"image/*\",\n                style: {\n                  display: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  var _imageInputRef$curren;\n                  return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n                },\n                className: \"action-btn\",\n                title: \"Upload image\",\n                children: \"\\uD83D\\uDDBC\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleVoiceInput,\n                className: `action-btn ${isListening ? 'active' : ''}`,\n                title: \"Voice input\",\n                children: \"\\uD83C\\uDFA4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIsSpeaking(!isSpeaking),\n                className: `action-btn ${isSpeaking ? 'active' : ''}`,\n                title: \"Toggle text-to-speech\",\n                children: \"\\uD83D\\uDD0A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSendMessage,\n                disabled: !input.trim() && !selectedImage || isLoading,\n                className: \"send-btn\",\n                children: isLoading ? '‚è≥' : 'üì§'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 495,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+RX5a4kKqXTWocNNT+iLOtazINg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","jsxDEV","_jsxDEV","API_URL","App","_s","user","setUser","sessionData","setSessionData","showUserForm","setShowUserForm","sessionStarted","setSessionStarted","messages","setMessages","input","setInput","chatId","setChatId","isLoading","setIsLoading","chatSummary","setChatSummary","files","setFiles","uploading","setUploading","uploadProgress","setUploadProgress","isDragOver","setIsDragOver","isListening","setIsListening","isSpeaking","setIsSpeaking","selectedImage","setSelectedImage","imagePreview","setImagePreview","showSettings","setShowSettings","theme","setTheme","notifications","setNotifications","fileInputRef","imageInputRef","messagesEndRef","recognitionRef","dropZoneRef","initializeApp","initializeSpeechRecognition","setupDragAndDrop","scrollToBottom","id","role","content","timestamp","Date","toISOString","isGreeting","features","icon","text","setTimeout","window","SpeechRecognition","webkitSpeechRecognition","current","continuous","interimResults","lang","onresult","event","transcript","i","resultIndex","results","length","onend","onerror","console","error","addNotification","dropZone","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","Array","from","dataTransfer","handleFileUpload","target","addEventListener","removeEventListener","_messagesEndRef$curre","scrollIntoView","behavior","message","type","notification","now","prev","filter","n","handleUserFormSubmit","formData","name","email","phone","company","welcomeMessage","sessionStart","fetchFiles","response","get","data","_event$dataTransfer","fileList","file","FormData","append","post","headers","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","filename","systemMessage","fileUpload","_error$response","_error$response$data","value","handleImageUpload","reader","FileReader","onload","result","readAsDataURL","handleSendMessage","trim","messageContent","hasImage","userMessage","image","imageName","requestData","userId","base64Image","split","imageData","assistantMessage","sources","confidence","speakText","_error$response2","_error$response2$data","errorMessage","isError","handleVoiceInput","stop","start","utterance","SpeechSynthesisUtterance","rate","pitch","volume","speechSynthesis","speak","handleFeedback","messageIndex","feedback","reportReason","updatedMessages","handleDeleteFile","fileId","confirm","delete","endSession","summary","endMessage","isSessionEnd","formatFileSize","bytes","toFixed","formatDate","date","toLocaleString","getFileTypeIcon","fileType","icons","pdf","txt","md","png","jpg","jpeg","webp","UserForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","purpose","required","placeholder","NotificationContainer","map","onClick","ref","onChange","accept","style","display","_fileInputRef$current","click","disabled","width","fileSize","uploadDate","vectorCount","title","index","src","alt","feature","source","reason","prompt","onKeyDown","key","shiftKey","_imageInputRef$curren","_c","$RefreshReg$"],"sources":["E:/delivery/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = 'http://localhost:5000/api';\n\nfunction App() {\n  // Enhanced state management\n  const [user, setUser] = useState(null);\n  const [sessionData, setSessionData] = useState({});\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [sessionStarted, setSessionStarted] = useState(false);\n\n  // Chat state\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [chatId, setChatId] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [chatSummary, setChatSummary] = useState('');\n\n  // File management state\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  // Voice and media state\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n\n  // UI state\n  const [showSettings, setShowSettings] = useState(false);\n  const [theme, setTheme] = useState('light');\n  const [notifications, setNotifications] = useState([]);\n\n  // Refs\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const dropZoneRef = useRef(null);\n\n  // Initialize app\n  useEffect(() => {\n    initializeApp();\n    initializeSpeechRecognition();\n    setupDragAndDrop();\n  }, []);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const initializeApp = () => {\n    // Add enhanced greeting message\n    setMessages([{\n      id: 1,\n      role: 'assistant',\n      content: \"ü§ñ Welcome to your Enhanced AI Assistant powered by Gemini 2.0 Flash! I can help you with:\\n\\nüìÑ Document analysis and Q&A\\nüñºÔ∏è Image analysis and OCR\\nüé§ Voice conversations\\nüìß Session summaries via email\\n\\nTo get started, please provide some basic information about yourself.\",\n      timestamp: new Date().toISOString(),\n      isGreeting: true,\n      features: [\n        { icon: 'üìÑ', text: 'Upload and analyze documents' },\n        { icon: 'üñºÔ∏è', text: 'Image analysis with OCR' },\n        { icon: 'üé§', text: 'Voice input and output' },\n        { icon: 'üìß', text: 'Email session summaries' }\n      ]\n    }]);\n\n    // Show user form after a delay\n    setTimeout(() => setShowUserForm(true), 2000);\n  };\n\n  const initializeSpeechRecognition = () => {\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.lang = 'en-US';\n\n      recognitionRef.current.onresult = (event) => {\n        let transcript = '';\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          transcript += event.results[i][0].transcript;\n        }\n        setInput(transcript);\n      };\n\n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n\n      recognitionRef.current.onerror = (event) => {\n        console.error('Speech recognition error:', event.error);\n        setIsListening(false);\n        addNotification('Voice recognition error. Please try again.', 'error');\n      };\n    }\n  };\n\n  const setupDragAndDrop = () => {\n    const dropZone = dropZoneRef.current;\n    if (!dropZone) return;\n\n    const handleDragOver = (e) => {\n      e.preventDefault();\n      setIsDragOver(true);\n    };\n\n    const handleDragLeave = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n    };\n\n    const handleDrop = (e) => {\n      e.preventDefault();\n      setIsDragOver(false);\n\n      const files = Array.from(e.dataTransfer.files);\n      if (files.length > 0) {\n        handleFileUpload({ target: { files } });\n      }\n    };\n\n    dropZone.addEventListener('dragover', handleDragOver);\n    dropZone.addEventListener('dragleave', handleDragLeave);\n    dropZone.addEventListener('drop', handleDrop);\n\n    return () => {\n      dropZone.removeEventListener('dragover', handleDragOver);\n      dropZone.removeEventListener('dragleave', handleDragLeave);\n      dropZone.removeEventListener('drop', handleDrop);\n    };\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const addNotification = (message, type = 'info') => {\n    const notification = {\n      id: Date.now(),\n      message,\n      type,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [...prev, notification]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== notification.id));\n    }, 5000);\n  };\n\n  const handleUserFormSubmit = async (formData) => {\n    setSessionData(formData);\n    setUser({\n      id: '123456789012',\n      name: formData.name,\n      email: formData.email,\n      phone: formData.phone,\n      company: formData.company\n    });\n    setShowUserForm(false);\n    setSessionStarted(true);\n\n    // Add welcome message with user details\n    const welcomeMessage = {\n      role: 'assistant',\n      content: `Hello ${formData.name}! üëã I've recorded your session details. How can I assist you today?`,\n      timestamp: new Date().toISOString(),\n      sessionStart: true\n    };\n\n    setMessages(prev => [...prev, welcomeMessage]);\n    fetchFiles();\n    addNotification('Session started successfully!', 'success');\n  };\n\n  const fetchFiles = async () => {\n    if (!user) return;\n\n    try {\n      const response = await axios.get(`${API_URL}/files?userId=${user.id}`);\n      setFiles(response.data.files || []);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n      addNotification('Error fetching files', 'error');\n    }\n  };\n\n  const handleFileUpload = async (event) => {\n    const fileList = event.target.files || event.dataTransfer?.files;\n    if (!fileList || fileList.length === 0) return;\n\n    const file = fileList[0];\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('userId', user.id);\n\n    setUploading(true);\n    setUploadProgress(0);\n\n    try {\n      const response = await axios.post(`${API_URL}/files/upload`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' },\n        onUploadProgress: (progressEvent) => {\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n\n      await fetchFiles();\n      addNotification(`File \"${response.data.filename}\" uploaded successfully!`, 'success');\n\n      // Add system message\n      const systemMessage = {\n        role: 'assistant',\n        content: `üìÑ File \"${response.data.filename}\" has been processed and indexed. You can now ask questions about its content!`,\n        timestamp: new Date().toISOString(),\n        fileUpload: true\n      };\n      setMessages(prev => [...prev, systemMessage]);\n\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      addNotification(`Error uploading file: ${error.response?.data?.error || error.message}`, 'error');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n\n  const handleImageUpload = (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    setSelectedImage(file);\n    const reader = new FileReader();\n    reader.onload = (e) => setImagePreview(e.target.result);\n    reader.readAsDataURL(file);\n  };\n\n  const handleSendMessage = async () => {\n    if (!input.trim() && !selectedImage) return;\n\n    const messageContent = input.trim();\n    const hasImage = selectedImage !== null;\n\n    // Create user message\n    const userMessage = {\n      role: 'user',\n      content: messageContent,\n      timestamp: new Date().toISOString(),\n      image: hasImage ? imagePreview : null,\n      imageName: hasImage ? selectedImage.name : null\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setSelectedImage(null);\n    setImagePreview(null);\n    setIsLoading(true);\n\n    try {\n      // Prepare request data\n      const requestData = {\n        userId: user.id,\n        message: messageContent,\n        chatId,\n        hasImage,\n        sessionData\n      };\n\n      // If image is selected, convert to base64 and include\n      if (hasImage) {\n        const base64Image = imagePreview.split(',')[1];\n        requestData.imageData = base64Image;\n        requestData.imageName = selectedImage.name;\n      }\n\n      const response = await axios.post(`${API_URL}/chat/message`, requestData);\n\n      if (!chatId) setChatId(response.data.chatId);\n\n      const assistantMessage = {\n        role: 'assistant',\n        content: response.data.message,\n        timestamp: new Date().toISOString(),\n        sources: response.data.sources,\n        confidence: response.data.confidence\n      };\n\n      setMessages(prev => [...prev, assistantMessage]);\n\n      // Text-to-speech if enabled\n      if (isSpeaking) {\n        speakText(response.data.message);\n      }\n\n    } catch (error) {\n      console.error('Error sending message:', error);\n      addNotification('Error sending message', 'error');\n\n      const errorMessage = {\n        role: 'assistant',\n        content: `‚ùå Error: ${error.response?.data?.error || error.message}`,\n        timestamp: new Date().toISOString(),\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleVoiceInput = () => {\n    if (!recognitionRef.current) {\n      addNotification('Speech recognition not supported in this browser', 'error');\n      return;\n    }\n\n    if (isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    } else {\n      recognitionRef.current.start();\n      setIsListening(true);\n      addNotification('Listening... Speak now', 'info');\n    }\n  };\n\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.8;\n      utterance.pitch = 1;\n      utterance.volume = 0.8;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const handleFeedback = async (messageIndex, feedback, reportReason = null) => {\n    try {\n      await axios.post(`${API_URL}/chat/feedback`, {\n        chatId,\n        messageIndex,\n        feedback,\n        reportReason,\n        sessionData\n      });\n\n      const updatedMessages = [...messages];\n      updatedMessages[messageIndex].feedback = feedback;\n      setMessages(updatedMessages);\n\n      if (feedback === 'negative') {\n        addNotification('Feedback submitted for review. Thank you!', 'success');\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n      addNotification('Error submitting feedback', 'error');\n    }\n  };\n\n  const handleDeleteFile = async (fileId) => {\n    if (!window.confirm('Are you sure you want to delete this file?')) return;\n\n    try {\n      await axios.delete(`${API_URL}/files/${fileId}?userId=${user.id}`);\n      await fetchFiles();\n      addNotification('File deleted successfully', 'success');\n    } catch (error) {\n      console.error('Error deleting file:', error);\n      addNotification('Error deleting file', 'error');\n    }\n  };\n\n  const endSession = async () => {\n    if (!chatId) return;\n\n    try {\n      const response = await axios.post(`${API_URL}/chat/end-session`, {\n        chatId,\n        userId: user.id,\n        sessionData\n      });\n\n      setChatSummary(response.data.summary);\n      addNotification('Session ended. Summary will be emailed to you.', 'success');\n\n      // Add session end message\n      const endMessage = {\n        role: 'assistant',\n        content: `üìã Session Summary:\\n\\n${response.data.summary}\\n\\nüìß A detailed summary has been sent to your email: ${user.email}`,\n        timestamp: new Date().toISOString(),\n        isSessionEnd: true\n      };\n      setMessages(prev => [...prev, endMessage]);\n\n    } catch (error) {\n      console.error('Error ending session:', error);\n      addNotification('Error ending session', 'error');\n    }\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes < 1024) return bytes + ' B';\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';\n    else return (bytes / 1048576).toFixed(1) + ' MB';\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleString();\n  };\n\n  const getFileTypeIcon = (fileType) => {\n    const icons = {\n      pdf: 'üìÑ', txt: 'üìù', md: 'üìã',\n      png: 'üñºÔ∏è', jpg: 'üñºÔ∏è', jpeg: 'üñºÔ∏è', webp: 'üñºÔ∏è'\n    };\n    return icons[fileType] || 'üìÅ';\n  };\n\n  // User Form Component\n  const UserForm = () => (\n    <div className=\"modal-overlay\">\n      <div className=\"user-form-modal\">\n        <h2>üëã Welcome! Let's get started</h2>\n        <p>Please provide some basic information to personalize your experience:</p>\n        <form onSubmit={(e) => {\n          e.preventDefault();\n          const formData = new FormData(e.target);\n          handleUserFormSubmit({\n            name: formData.get('name'),\n            email: formData.get('email'),\n            phone: formData.get('phone'),\n            company: formData.get('company'),\n            purpose: formData.get('purpose')\n          });\n        }}>\n          <div className=\"form-group\">\n            <label>Full Name *</label>\n            <input type=\"text\" name=\"name\" required placeholder=\"Enter your full name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Email Address *</label>\n            <input type=\"email\" name=\"email\" required placeholder=\"Enter your email\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Phone Number</label>\n            <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Company/Organization</label>\n            <input type=\"text\" name=\"company\" placeholder=\"Enter your company name\" />\n          </div>\n          <div className=\"form-group\">\n            <label>Purpose of Visit</label>\n            <select name=\"purpose\" required>\n              <option value=\"\">Select purpose</option>\n              <option value=\"research\">Research & Analysis</option>\n              <option value=\"support\">Customer Support</option>\n              <option value=\"consultation\">Consultation</option>\n              <option value=\"other\">Other</option>\n            </select>\n          </div>\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"btn-primary\">Start Session</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n\n  // Notification Component\n  const NotificationContainer = () => (\n    <div className=\"notifications\">\n      {notifications.map(notification => (\n        <div key={notification.id} className={`notification ${notification.type}`}>\n          <span>{notification.message}</span>\n          <button onClick={() => setNotifications(prev => prev.filter(n => n.id !== notification.id))}>\n            √ó\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n\n  return (\n    <div className={`app ${theme}`}>\n      {showUserForm && <UserForm />}\n      <NotificationContainer />\n\n      <header className=\"header\">\n        <div className=\"header-left\">\n          <h1>ü§ñ Enhanced AI Assistant</h1>\n          <span className=\"powered-by\">Powered by Gemini 2.0 Flash</span>\n        </div>\n        <div className=\"header-right\">\n          {user && (\n            <div className=\"user-info\">\n              <span>üë§ {user.name}</span>\n              <button onClick={() => setShowSettings(!showSettings)} className=\"settings-btn\">\n                ‚öôÔ∏è\n              </button>\n              {sessionStarted && (\n                <button onClick={endSession} className=\"end-session-btn\">\n                  üìã End Session\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </header>\n\n      <div className=\"main-container\">\n        <div className=\"sidebar\">\n          <div className={`file-upload-zone ${isDragOver ? 'drag-over' : ''}`} ref={dropZoneRef}>\n            <h3>üìÅ File Management</h3>\n            <div className=\"upload-area\">\n              <div className=\"upload-icon\">üì§</div>\n              <p>Drag & drop files here or click to browse</p>\n              <p className=\"supported-formats\">\n                Supported: PDF, TXT, MD, PNG, JPG, JPEG, WEBP\n              </p>\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleFileUpload}\n                accept=\".pdf,.txt,.md,.png,.jpg,.jpeg,.webp\"\n                style={{ display: 'none' }}\n              />\n              <button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={uploading}\n                className=\"upload-btn\"\n              >\n                {uploading ? `Uploading... ${uploadProgress}%` : 'üìé Select Files'}\n              </button>\n              {uploading && (\n                <div className=\"progress-bar\">\n                  <div className=\"progress\" style={{ width: `${uploadProgress}%` }}></div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"file-list\">\n            <h3>üìã Your Documents ({files.length})</h3>\n            {files.length === 0 ? (\n              <div className=\"empty-state\">\n                <p>No files uploaded yet</p>\n                <small>Upload documents to enable RAG-powered conversations</small>\n              </div>\n            ) : (\n              <div className=\"files\">\n                {files.map(file => (\n                  <div key={file.id} className=\"file-item\">\n                    <div className=\"file-icon\">{getFileTypeIcon(file.fileType)}</div>\n                    <div className=\"file-details\">\n                      <div className=\"file-name\">{file.filename}</div>\n                      <div className=\"file-meta\">\n                        {formatFileSize(file.fileSize)} ‚Ä¢ {formatDate(file.uploadDate)}\n                      </div>\n                      <div className=\"file-vectors\">\n                        {file.vectorCount} chunks indexed\n                      </div>\n                    </div>\n                    <button\n                      onClick={() => handleDeleteFile(file.id)}\n                      className=\"delete-btn\"\n                      title=\"Delete file\"\n                    >\n                      üóëÔ∏è\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"chat-container\">\n          <div className=\"messages\" id=\"messages\">\n            {messages.map((message, index) => (\n              <div key={index} className={`message ${message.role}`}>\n                <div className=\"message-content\">\n                  {message.image && (\n                    <div className=\"message-image\">\n                      <img src={message.image} alt={message.imageName} />\n                      <span className=\"image-name\">{message.imageName}</span>\n                    </div>\n                  )}\n\n                  <div className=\"message-text\">\n                    {message.content}\n                  </div>\n\n                  {message.features && (\n                    <div className=\"feature-list\">\n                      {message.features.map((feature, i) => (\n                        <div key={i} className=\"feature-item\">\n                          <span className=\"feature-icon\">{feature.icon}</span>\n                          <span className=\"feature-text\">{feature.text}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {message.sources && message.sources.length > 0 && (\n                    <div className=\"message-sources\">\n                      <details>\n                        <summary>üìö Sources ({message.sources.length})</summary>\n                        <div className=\"sources-list\">\n                          {message.sources.map((source, i) => (\n                            <div key={i} className=\"source-item\">\n                              <div className=\"source-text\">{source.text}</div>\n                              <div className=\"source-file\">From: {source.fileId}</div>\n                            </div>\n                          ))}\n                        </div>\n                      </details>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"message-footer\">\n                  <span className=\"message-time\">{formatDate(message.timestamp)}</span>\n\n                  {message.role === 'assistant' && !message.isGreeting && (\n                    <div className=\"message-actions\">\n                      <button\n                        onClick={() => handleFeedback(index, 'positive')}\n                        className={`feedback-btn ${message.feedback === 'positive' ? 'active' : ''}`}\n                        title=\"Good response\"\n                      >\n                        üëç\n                      </button>\n                      <button\n                        onClick={() => {\n                          const reason = prompt('Please describe what was wrong with this response:');\n                          if (reason) handleFeedback(index, 'negative', reason);\n                        }}\n                        className={`feedback-btn ${message.feedback === 'negative' ? 'active' : ''}`}\n                        title=\"Report incorrect response\"\n                      >\n                        üëé\n                      </button>\n                      <button\n                        onClick={() => speakText(message.content)}\n                        className=\"speak-btn\"\n                        title=\"Read aloud\"\n                      >\n                        üîä\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n\n            {isLoading && (\n              <div className=\"message assistant\">\n                <div className=\"typing-indicator\">\n                  <span></span><span></span><span></span>\n                </div>\n              </div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n\n          <div className=\"input-container\">\n            {selectedImage && (\n              <div className=\"image-preview\">\n                <img src={imagePreview} alt=\"Selected\" />\n                <span>{selectedImage.name}</span>\n                <button onClick={() => { setSelectedImage(null); setImagePreview(null); }}>√ó</button>\n              </div>\n            )}\n\n            <div className=\"input-area\">\n              <textarea\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                placeholder={isListening ? \"üé§ Listening...\" : \"Type your message here... (Shift+Enter for new line)\"}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' && !e.shiftKey) {\n                    e.preventDefault();\n                    handleSendMessage();\n                  }\n                }}\n                disabled={isLoading}\n                className={isListening ? 'listening' : ''}\n              />\n\n              <div className=\"input-actions\">\n                <input\n                  type=\"file\"\n                  ref={imageInputRef}\n                  onChange={handleImageUpload}\n                  accept=\"image/*\"\n                  style={{ display: 'none' }}\n                />\n\n                <button\n                  onClick={() => imageInputRef.current?.click()}\n                  className=\"action-btn\"\n                  title=\"Upload image\"\n                >\n                  üñºÔ∏è\n                </button>\n\n                <button\n                  onClick={handleVoiceInput}\n                  className={`action-btn ${isListening ? 'active' : ''}`}\n                  title=\"Voice input\"\n                >\n                  üé§\n                </button>\n\n                <button\n                  onClick={() => setIsSpeaking(!isSpeaking)}\n                  className={`action-btn ${isSpeaking ? 'active' : ''}`}\n                  title=\"Toggle text-to-speech\"\n                >\n                  üîä\n                </button>\n\n                <button\n                  onClick={handleSendMessage}\n                  disabled={(!input.trim() && !selectedImage) || isLoading}\n                  className=\"send-btn\"\n                >\n                  {isLoading ? '‚è≥' : 'üì§'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}